/**
 * skylark-bs-swt - The skylark bootstrap standard widget tookit
 * @author Hudaokeji, Inc.
 * @version v0.9.0-beta
 * @link https://github.com/skylarkui/skylark-bs-swt/
 * @license MIT
 */
define(["skylark-utils/browser","skylark-utils/langx","skylark-utils/eventer","skylark-utils/noder","skylark-utils/query"],function(t,e,r,o,n){"use strict";function a(t){var e=t.attr("data-target");e||(e=t.attr("href"),e=e&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var r=e&&n(e);return r&&r.length?r:t.parent()}function d(t){t&&3===t.which||(n(s).remove(),n(p).each(function(){var e=n(this),d=a(e),i={relatedTarget:this};d.hasClass("open")&&(t&&"click"==t.type&&/input|textarea/i.test(t.target.tagName)&&o.contains(d[0],t.target)||(d.trigger(t=r.create("hide.bs.dropdown",i)),t.isDefaultPrevented()||(e.attr("aria-expanded","false"),d.removeClass("open").trigger(r.create("hidden.bs.dropdown",i)))))}))}function i(t){return this.each(function(){var e=n(this),r=e.data("bs.dropdown");r||e.data("bs.dropdown",r=new c(this)),"string"==typeof t&&r[t].call(e)})}var s=".dropdown-backdrop",p='[data-toggle="dropdown"]',c=function(t){n(t).on("click.bs.dropdown",this.toggle)};c.VERSION="3.3.7",c.prototype.toggle=function(t){var e=n(this);if(!e.is(".disabled, :disabled")){var o=a(e),i=o.hasClass("open");if(d(),!i){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&n(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(n(this)).on("click",d);var s={relatedTarget:this};if(o.trigger(t=r.create("show.bs.dropdown",s)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(r.create("shown.bs.dropdown",s))}return!1}},c.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=n(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var r=a(e),o=r.hasClass("open");if(!o&&27!=t.which||o&&27==t.which)return 27==t.which&&r.find(p).trigger("focus"),e.trigger("click");var d=" li:not(.disabled):visible a",i=r.find(".dropdown-menu"+d);if(i.length){var s=i.index(t.target);38==t.which&&s>0&&s--,40==t.which&&s<i.length-1&&s++,~s||(s=0),i.eq(s).trigger("focus")}}}};var l=n.fn.dropdown;return n.fn.dropdown=i,n.fn.dropdown.Constructor=c,n.fn.dropdown.noConflict=function(){return n.fn.dropdown=l,this},n(document).on("click.bs.dropdown.data-api",d).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",p,c.prototype.toggle).on("keydown.bs.dropdown.data-api",p,c.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",c.prototype.keydown),c});
//# sourceMappingURL=sourcemaps/dropdown.js.map
