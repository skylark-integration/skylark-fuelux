{"version":3,"sources":["checkbox.js"],"names":["define","langx","browser","eventer","noder","geom","$","old","fn","checkbox","logError","error","window","console","Checkbox","element","options","this","mixin","defaults","$element","tagName","toLowerCase","$label","$chk","find","$container","parent","ignoreVisibilityCheck","css","match","containerSelector","attr","$toggleContainer","on","proxy","itemchecked","setInitialState","prototype","constructor","checked","prop","disabled","setCheckedState","setDisabledState","$lbl","$containerToggle","addClass","removeClass","trigger","evt","target","toggle","isChecked","uncheck","check","enable","disable","destroy","remove","outerHTML","getValue","option","methodReturn","args","Array","slice","call","arguments","$set","each","$this","data","apply","undefined","Constructor","noConflict","document","e","$control"],"mappings":"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","file":"../checkbox.js","sourcesContent":["define([\n  \"skylark-utils/langx\",\n  \"skylark-utils/browser\",\n  \"skylark-utils/eventer\",\n  \"skylark-utils/noder\",\n  \"skylark-utils/geom\",\n  \"skylark-utils/query\"\n],function(langx,browser,eventer,noder,geom,$){\n\n\t/*\n\t * Fuel UX Checkbox\n\t * https://github.com/ExactTarget/fuelux\n\t *\n\t * Copyright (c) 2014 ExactTarget\n\t * Licensed under the BSD New license.\n\t */\n\n\tvar old = $.fn.checkbox;\n\n\t// CHECKBOX CONSTRUCTOR AND PROTOTYPE\n\n\tvar logError = function logError (error) {\n\t\tif (window && window.console && window.console.error) {\n\t\t\twindow.console.error(error);\n\t\t}\n\t};\n\n\tvar Checkbox = function Checkbox (element, options) {\n\t\tthis.options = langx.mixin({}, $.fn.checkbox.defaults, options);\n\t\tvar $element = $(element);\n\n\t\tif (element.tagName.toLowerCase() !== 'label') {\n\t\t\tlogError('Checkbox must be initialized on the `label` that wraps the `input` element. See https://github.com/ExactTarget/fuelux/blob/master/reference/markup/checkbox.html for example of proper markup. Call `.checkbox()` on the `<label>` not the `<input>`');\n\t\t\treturn;\n\t\t}\n\n\t\t// cache elements\n\t\tthis.$label = $element;\n\t\tthis.$chk = this.$label.find('input[type=\"checkbox\"]');\n\t\tthis.$container = $element.parent('.checkbox'); // the container div\n\n\t\tif (!this.options.ignoreVisibilityCheck && this.$chk.css('visibility').match(/hidden|collapse/)) {\n\t\t\tlogError('For accessibility reasons, in order for tab and space to function on checkbox, checkbox `<input />`\\'s `visibility` must not be set to `hidden` or `collapse`. See https://github.com/ExactTarget/fuelux/pull/1996 for more details.');\n\t\t}\n\n\t\t// determine if a toggle container is specified\n\t\tvar containerSelector = this.$chk.attr('data-toggle');\n\t\tthis.$toggleContainer = $(containerSelector);\n\n\t\t// handle internal events\n\t\tthis.$chk.on('change', langx.proxy(this.itemchecked, this));\n\n\t\t// set default state\n\t\tthis.setInitialState();\n\t};\n\n\tCheckbox.prototype = {\n\n\t\tconstructor: Checkbox,\n\n\t\tsetInitialState: function setInitialState () {\n\t\t\tvar $chk = this.$chk;\n\n\t\t\t// get current state of input\n\t\t\tvar checked = $chk.prop('checked');\n\t\t\tvar disabled = $chk.prop('disabled');\n\n\t\t\t// sync label class with input state\n\t\t\tthis.setCheckedState($chk, checked);\n\t\t\tthis.setDisabledState($chk, disabled);\n\t\t},\n\n\t\tsetCheckedState: function setCheckedState (element, checked) {\n\t\t\tvar $chk = element;\n\t\t\tvar $lbl = this.$label;\n\t\t\tvar $containerToggle = this.$toggleContainer;\n\n\t\t\tif (checked) {\n\t\t\t\t$chk.prop('checked', true);\n\t\t\t\t$lbl.addClass('checked');\n\t\t\t\t$containerToggle.removeClass('hide hidden');\n\t\t\t\t$lbl.trigger('checked.fu.checkbox');\n\t\t\t} else {\n\t\t\t\t$chk.prop('checked', false);\n\t\t\t\t$lbl.removeClass('checked');\n\t\t\t\t$containerToggle.addClass('hidden');\n\t\t\t\t$lbl.trigger('unchecked.fu.checkbox');\n\t\t\t}\n\n\t\t\t$lbl.trigger('changed.fu.checkbox', checked);\n\t\t},\n\n\t\tsetDisabledState: function setDisabledState (element, disabled) {\n\t\t\tvar $chk = $(element);\n\t\t\tvar $lbl = this.$label;\n\n\t\t\tif (disabled) {\n\t\t\t\t$chk.prop('disabled', true);\n\t\t\t\t$lbl.addClass('disabled');\n\t\t\t\t$lbl.trigger('disabled.fu.checkbox');\n\t\t\t} else {\n\t\t\t\t$chk.prop('disabled', false);\n\t\t\t\t$lbl.removeClass('disabled');\n\t\t\t\t$lbl.trigger('enabled.fu.checkbox');\n\t\t\t}\n\n\t\t\treturn $chk;\n\t\t},\n\n\t\titemchecked: function itemchecked (evt) {\n\t\t\tvar $chk = $(evt.target);\n\t\t\tvar checked = $chk.prop('checked');\n\n\t\t\tthis.setCheckedState($chk, checked);\n\t\t},\n\n\t\ttoggle: function toggle () {\n\t\t\tvar checked = this.isChecked();\n\n\t\t\tif (checked) {\n\t\t\t\tthis.uncheck();\n\t\t\t} else {\n\t\t\t\tthis.check();\n\t\t\t}\n\t\t},\n\n\t\tcheck: function check () {\n\t\t\tthis.setCheckedState(this.$chk, true);\n\t\t},\n\n\t\tuncheck: function uncheck () {\n\t\t\tthis.setCheckedState(this.$chk, false);\n\t\t},\n\n\t\tisChecked: function isChecked () {\n\t\t\tvar checked = this.$chk.prop('checked');\n\t\t\treturn checked;\n\t\t},\n\n\t\tenable: function enable () {\n\t\t\tthis.setDisabledState(this.$chk, false);\n\t\t},\n\n\t\tdisable: function disable () {\n\t\t\tthis.setDisabledState(this.$chk, true);\n\t\t},\n\n\t\tdestroy: function destroy () {\n\t\t\tthis.$label.remove();\n\t\t\treturn this.$label[0].outerHTML;\n\t\t}\n\t};\n\n\tCheckbox.prototype.getValue = Checkbox.prototype.isChecked;\n\n\t// CHECKBOX PLUGIN DEFINITION\n\n\t$.fn.checkbox = function checkbox (option) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\t\tvar methodReturn;\n\n\t\tvar $set = this.each(function applyData () {\n\t\t\tvar $this = $(this);\n\t\t\tvar data = $this.data('fu.checkbox');\n\t\t\tvar options = typeof option === 'object' && option;\n\n\t\t\tif (!data) {\n\t\t\t\t$this.data('fu.checkbox', (data = new Checkbox(this, options)));\n\t\t\t}\n\n\t\t\tif (typeof option === 'string') {\n\t\t\t\tmethodReturn = data[option].apply(data, args);\n\t\t\t}\n\t\t});\n\n\t\treturn (methodReturn === undefined) ? $set : methodReturn;\n\t};\n\n\t$.fn.checkbox.defaults = {\n\t\tignoreVisibilityCheck: false\n\t};\n\n\t$.fn.checkbox.Constructor = Checkbox;\n\n\t$.fn.checkbox.noConflict = function noConflict () {\n\t\t$.fn.checkbox = old;\n\t\treturn this;\n\t};\n\n\t// DATA-API\n\n\t$(document).on('mouseover.fu.checkbox.data-api', '[data-initialize=checkbox]', function initializeCheckboxes (e) {\n\t\tvar $control = $(e.target);\n\t\tif (!$control.data('fu.checkbox')) {\n\t\t\t$control.checkbox($control.data());\n\t\t}\n\t});\n\n\t// Must be domReady for AMD compatibility\n\t$(function onReadyInitializeCheckboxes () {\n\t\t$('[data-initialize=checkbox]').each(function initializeCheckbox () {\n\t\t\tvar $this = $(this);\n\t\t\tif (!$this.data('fu.checkbox')) {\n\t\t\t\t$this.checkbox($this.data());\n\t\t\t}\n\t\t});\n\t});\n});\n"]}