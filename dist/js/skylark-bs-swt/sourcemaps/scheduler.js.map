{"version":3,"sources":["scheduler.js"],"names":["define","langx","browser","eventer","noder","geom","$","fn","combobox","datepicker","radio","selectlist","spinbox","Error","old","scheduler","Scheduler","element","options","self","this","$element","mixin","defaults","$startDate","find","$startTime","$timeZone","$repeatIntervalPanel","$repeatIntervalSelect","$repeatIntervalSpinbox","$repeatIntervalTxt","$end","$endSelect","$endAfter","$endDate","$recurrencePanels","startDateOptions","startDateResponse","startDateChanged","_guessEndDate","on","proxy","val","value","min","limitToStep","endDateOptions","repeatIntervalSelectChanged","endSelectChanged","e","data","changed","_getFormattedDate","dateObj","dash","item","fdate","getFullYear","getMonth","getDate","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_DAY","ONE_WEEK","ONE_MONTH","ONE_YEAR","INTERVALS","secondly","minutely","hourly","daily","weekly","monthly","yearly","_incrementDate","start","end","interval","increment","Date","getTime","prototype","constructor","destroy","markup","each","attr","empty","outerHTML","remove","propagate","stopPropagation","trigger","undefined","currentTarget","originalEvent","getValue","disable","toggleState","enable","setUtcTime","day","time","offset","dateSplit","split","timeSplit","utcDate","UTC","setUTCHours","getUTCHours","expression","p","RegExp","join","offsetMatch","exec","offsetDirection","offsetInteger","modifier","parseInt","localDifference","getTimezoneOffset","setMinutes","selectedItem","parent","addClass","removeClass","is","startTime","pattern","repeat","toLowerCase","text","days","hasAm","hasPm","month","pos","startDateTime","type","timeZone","search","trim","replace","push","duration","substring","length","recurrencePattern","txt","_parseAndSetRecurrencePattern","commaPatternSplit","$repeatMonthlyDate","$repeatYearlyDate","$repeatYearlyDay","recur","i","semiColonPatternSplit","toUpperCase","FREQ","BYDAY","INTERVAL","COUNT","el","prop","removeAttr","BYMONTHDAY","$repeatMonthlyDay","BYSETPOS","BYMONTH","UNTIL","untilSplit","untilDate","splice","timezoneOffset","utcEndHours","time24HourFormat","_parseStartDateTime","startTimeISO8601","hours","minutes","period","timeZoneOffset","time24HourFormatSplit","time12HourFormat","time12HourFormatWithPeriod","_parseTimeZone","timeZoneQuerySelector","key","_setTimeUI","_setTimeZoneUI","querySelector","setValue","startDate","utcStartHours","currentDate","action","option","methodReturn","args","Array","slice","call","arguments","$set","$this","apply","Constructor","noConflict"],"mappings":"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","file":"../scheduler.js","sourcesContent":["define([\n  \"skylark-utils/langx\",\n  \"skylark-utils/browser\",\n  \"skylark-utils/eventer\",\n  \"skylark-utils/noder\",\n  \"skylark-utils/geom\",\n  \"skylark-utils/query\",\n  \"./combobox\",\n  \"./datepicker\",\n  \"./radio\",\n  \"./selectlist\",\n  \"./spinbox\"\n],function(langx,browser,eventer,noder,geom,$){\n\n\t/*\n\t * Fuel UX Checkbox\n\t * https://github.com/ExactTarget/fuelux\n\t *\n\t * Copyright (c) 2014 ExactTarget\n\t * Licensed under the BSD New license.\n\t */\n\n\tif (!$.fn.combobox || !$.fn.datepicker || !$.fn.radio || !$.fn.selectlist || !$.fn.spinbox) {\n\t\tthrow new Error('Fuel UX scheduler control requires combobox, datepicker, radio, selectlist, and spinbox.');\n\t}\n\n\t// -- END UMD WRAPPER PREFACE --\n\n\t// -- BEGIN MODULE CODE HERE --\n\n\tvar old = $.fn.scheduler;\n\n\t// SCHEDULER CONSTRUCTOR AND PROTOTYPE\n\n\tvar Scheduler = function Scheduler(element, options) {\n\t\tvar self = this;\n\n\t\tthis.$element = $(element);\n\t\tthis.options = langx.mixin({}, $.fn.scheduler.defaults, options);\n\n\t\t// cache elements\n\t\tthis.$startDate = this.$element.find('.start-datetime .start-date');\n\t\tthis.$startTime = this.$element.find('.start-datetime .start-time');\n\n\t\tthis.$timeZone = this.$element.find('.timezone-container .timezone');\n\n\t\tthis.$repeatIntervalPanel = this.$element.find('.repeat-every-panel');\n\t\tthis.$repeatIntervalSelect = this.$element.find('.repeat-options');\n\n\t\tthis.$repeatIntervalSpinbox = this.$element.find('.repeat-every');\n\t\tthis.$repeatIntervalTxt = this.$element.find('.repeat-every-text');\n\n\t\tthis.$end = this.$element.find('.repeat-end');\n\t\tthis.$endSelect = this.$end.find('.end-options');\n\t\tthis.$endAfter = this.$end.find('.end-after');\n\t\tthis.$endDate = this.$end.find('.end-on-date');\n\n\t\t// panels\n\t\tthis.$recurrencePanels = this.$element.find('.repeat-panel');\n\n\n\t\tthis.$repeatIntervalSelect.selectlist();\n\n\t\t//initialize sub-controls\n\t\tthis.$element.find('.selectlist').selectlist();\n\t\tthis.$startDate.datepicker(this.options.startDateOptions);\n\n\t\tvar startDateResponse = (typeof this.options.startDateChanged === \"function\") ? this.options.startDateChanged : this._guessEndDate;\n\t\tthis.$startDate.on('change changed.fu.datepicker dateClicked.fu.datepicker', langx.proxy(startDateResponse, this));\n\n\t\tthis.$startTime.combobox();\n\t\t// init start time\n\t\tif (this.$startTime.find('input').val() === '') {\n\t\t\tthis.$startTime.combobox('selectByIndex', 0);\n\t\t}\n\n\t\t// every 0 days/hours doesn't make sense, change if not set\n\t\tif (this.$repeatIntervalSpinbox.find('input').val() === '0') {\n\t\t\tthis.$repeatIntervalSpinbox.spinbox({\n\t\t\t\t'value': 1,\n\t\t\t\t'min': 1,\n\t\t\t\t'limitToStep': true\n\t\t\t});\n\t\t} else {\n\t\t\tthis.$repeatIntervalSpinbox.spinbox({\n\t\t\t\t'min': 1,\n\t\t\t\t'limitToStep': true\n\t\t\t});\n\t\t}\n\n\t\tthis.$endAfter.spinbox({\n\t\t\t'value': 1,\n\t\t\t'min': 1,\n\t\t\t'limitToStep': true\n\t\t});\n\t\tthis.$endDate.datepicker(this.options.endDateOptions);\n\t\tthis.$element.find('.radio-custom').radio();\n\n\t\t// bind events: 'change' is a Bootstrap JS fired event\n\t\tthis.$repeatIntervalSelect.on('changed.fu.selectlist', langx.proxy(this.repeatIntervalSelectChanged, this));\n\t\tthis.$endSelect.on('changed.fu.selectlist', langx.proxy(this.endSelectChanged, this));\n\t\tthis.$element.find('.repeat-days-of-the-week .btn-group .btn').on('change.fu.scheduler', function (e, data) {\n\t\t\tself.changed(e, data, true);\n\t\t});\n\t\tthis.$element.find('.combobox').on('changed.fu.combobox', langx.proxy(this.changed, this));\n\t\tthis.$element.find('.datepicker').on('changed.fu.datepicker', langx.proxy(this.changed, this));\n\t\tthis.$element.find('.datepicker').on('dateClicked.fu.datepicker', langx.proxy(this.changed, this));\n\t\tthis.$element.find('.selectlist').on('changed.fu.selectlist', langx.proxy(this.changed, this));\n\t\tthis.$element.find('.spinbox').on('changed.fu.spinbox', langx.proxy(this.changed, this));\n\t\tthis.$element.find('.repeat-monthly .radio-custom, .repeat-yearly .radio-custom').on('change.fu.scheduler', langx.proxy(this.changed, this));\n\t};\n\n\tvar _getFormattedDate = function _getFormattedDate(dateObj, dash) {\n\t\tvar fdate = '';\n\t\tvar item;\n\n\t\tfdate += dateObj.getFullYear();\n\t\tfdate += dash;\n\t\titem = dateObj.getMonth() + 1;//because 0 indexing makes sense when dealing with months /sarcasm\n\t\tfdate += (item < 10) ? '0' + item : item;\n\t\tfdate += dash;\n\t\titem = dateObj.getDate();\n\t\tfdate += (item < 10) ? '0' + item : item;\n\n\t\treturn fdate;\n\t};\n\n\tvar ONE_SECOND = 1000;\n\tvar ONE_MINUTE = ONE_SECOND * 60;\n\tvar ONE_HOUR = ONE_MINUTE * 60;\n\tvar ONE_DAY = ONE_HOUR * 24;\n\tvar ONE_WEEK = ONE_DAY * 7;\n\tvar ONE_MONTH = ONE_WEEK * 5;// No good way to increment by one month using vanilla JS. Since this is an end date, we only need to ensure that this date occurs after at least one or more repeat increments, but there is no reason for it to be exact.\n\tvar ONE_YEAR = ONE_WEEK * 52;\n\tvar INTERVALS = {\n\t\tsecondly: ONE_SECOND,\n\t\tminutely: ONE_MINUTE,\n\t\thourly: ONE_HOUR,\n\t\tdaily: ONE_DAY,\n\t\tweekly: ONE_WEEK,\n\t\tmonthly: ONE_MONTH,\n\t\tyearly: ONE_YEAR\n\t};\n\n\tvar _incrementDate = function _incrementDate(start, end, interval, increment) {\n\t\treturn new Date(start.getTime() + (INTERVALS[interval] * increment));\n\t};\n\n\tScheduler.prototype = {\n\t\tconstructor: Scheduler,\n\n\t\tdestroy: function destroy() {\n\t\t\tvar markup;\n\t\t\t// set input value attribute\n\t\t\tthis.$element.find('input').each(function () {\n\t\t\t\t$(this).attr('value', $(this).val());\n\t\t\t});\n\n\t\t\t// empty elements to return to original markup and store\n\t\t\tthis.$element.find('.datepicker .calendar').empty();\n\n\t\t\tmarkup = this.$element[0].outerHTML;\n\n\t\t\t// destroy components\n\t\t\tthis.$element.find('.combobox').combobox('destroy');\n\t\t\tthis.$element.find('.datepicker').datepicker('destroy');\n\t\t\tthis.$element.find('.selectlist').selectlist('destroy');\n\t\t\tthis.$element.find('.spinbox').spinbox('destroy');\n\t\t\tthis.$element.find('.radio-custom').radio('destroy');\n\t\t\tthis.$element.remove();\n\n\t\t\t// any external bindings\n\t\t\t// [none]\n\n\t\t\treturn markup;\n\t\t},\n\n\t\tchanged: function changed(e, data, propagate) {\n\t\t\tif (!propagate) {\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\n\t\t\tthis.$element.trigger('changed.fu.scheduler', {\n\t\t\t\tdata: (data !== undefined) ? data : $(e.currentTarget).data(),\n\t\t\t\toriginalEvent: e,\n\t\t\t\tvalue: this.getValue()\n\t\t\t});\n\t\t},\n\n\t\tdisable: function disable() {\n\t\t\tthis.toggleState('disable');\n\t\t},\n\n\t\tenable: function enable() {\n\t\t\tthis.toggleState('enable');\n\t\t},\n\n\t\tsetUtcTime: function setUtcTime(day, time, offset) {\n\t\t\tvar dateSplit = day.split('-');\n\t\t\tvar timeSplit = time.split(':');\n\t\t\tfunction z(n) {\n\t\t\t\treturn (n < 10 ? '0' : '') + n;\n\t\t\t}\n\n\t\t\tvar utcDate = new Date(Date.UTC(dateSplit[0], (dateSplit[1] - 1), dateSplit[2], timeSplit[0], timeSplit[1], (timeSplit[2] ? timeSplit[2] : 0)));\n\n\t\t\tif (offset === 'Z') {\n\t\t\t\tutcDate.setUTCHours(utcDate.getUTCHours() + 0);\n\t\t\t} else {\n\t\t\t\tvar expression = [];\n\t\t\t\texpression[0] = '(.)'; // Any Single Character 1\n\t\t\t\texpression[1] = '.*?'; // Non-greedy match on filler\n\t\t\t\texpression[2] = '\\\\d'; // Uninteresting and ignored: d\n\t\t\t\texpression[3] = '.*?'; // Non-greedy match on filler\n\t\t\t\texpression[4] = '(\\\\d)'; // Any Single Digit 1\n\n\t\t\t\tvar p = new RegExp(expression.join(''), [\"i\"]);\n\t\t\t\tvar offsetMatch = p.exec(offset);\n\t\t\t\tif (offsetMatch !== null) {\n\t\t\t\t\tvar offsetDirection = offsetMatch[1];\n\t\t\t\t\tvar offsetInteger = offsetMatch[2];\n\t\t\t\t\tvar modifier = (offsetDirection === '+') ? 1 : -1;\n\n\t\t\t\t\tutcDate.setUTCHours(utcDate.getUTCHours() + (modifier * parseInt(offsetInteger, 10)));\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar localDifference = utcDate.getTimezoneOffset();\n\t\t\tutcDate.setMinutes(localDifference);\n\t\t\treturn utcDate;\n\t\t},\n\n\t\t// called when the end range changes\n\t\t// (Never, After, On date)\n\t\tendSelectChanged: function endSelectChanged(e, data) {\n\t\t\tvar selectedItem, val;\n\n\t\t\tif (!data) {\n\t\t\t\tselectedItem = this.$endSelect.selectlist('selectedItem');\n\t\t\t\tval = selectedItem.value;\n\t\t\t} else {\n\t\t\t\tval = data.value;\n\t\t\t}\n\n\t\t\t// hide all panels\n\t\t\tthis.$endAfter.parent().addClass('hidden');\n\t\t\tthis.$endAfter.parent().attr('aria-hidden', 'true');\n\n\t\t\tthis.$endDate.parent().addClass('hidden');\n\t\t\tthis.$endDate.parent().attr('aria-hidden', 'true');\n\n\t\t\tif (val === 'after') {\n\t\t\t\tthis.$endAfter.parent().removeClass('hide hidden'); // jQuery deprecated hide in 3.0. Use hidden instead. Leaving hide here to support previous markup\n\t\t\t\tthis.$endAfter.parent().attr('aria-hidden', 'false');\n\t\t\t} else if (val === 'date') {\n\t\t\t\tthis.$endDate.parent().removeClass('hide hidden');\t// jQuery deprecated hide in 3.0. Use hidden instead. Leaving hide here to support previous markup\n\t\t\t\tthis.$endDate.parent().attr('aria-hidden', 'false');\n\t\t\t}\n\t\t},\n\n\t\t_guessEndDate: function _guessEndDate() {\n\t\t\tvar interval = this.$repeatIntervalSelect.selectlist('selectedItem').value;\n\t\t\tvar end = new Date(this.$endDate.datepicker('getDate'));\n\t\t\tvar start = new Date(this.$startDate.datepicker('getDate'));\n\t\t\tvar increment = this.$repeatIntervalSpinbox.find('input').val();\n\n\t\t\tif(interval !== \"none\" && end <= start){\n\t\t\t\t// if increment spinbox is hidden, user has no idea what it is set to and it is probably not set to\n\t\t\t\t// something they intended. Safest option is to set date forward by an increment of 1.\n\t\t\t\t// this will keep monthly & yearly from auto-incrementing by more than a single interval\n\t\t\t\tif(!this.$repeatIntervalSpinbox.is(':visible')){\n\t\t\t\t\tincrement = 1;\n\t\t\t\t}\n\n\t\t\t\t// treat weekdays as weekly. This treats all \"weekdays\" as a single set, of which a single increment\n\t\t\t\t// is one week.\n\t\t\t\tif(interval === \"weekdays\"){\n\t\t\t\t\tincrement = 1;\n\t\t\t\t\tinterval = \"weekly\";\n\t\t\t\t}\n\n\t\t\t\tend = _incrementDate(start, end, interval, increment);\n\n\t\t\t\tthis.$endDate.datepicker('setDate', end);\n\t\t\t}\n\t\t},\n\n\t\tgetValue: function getValue() {\n\t\t\t// FREQ = frequency (secondly, minutely, hourly, daily, weekdays, weekly, monthly, yearly)\n\t\t\t// BYDAY = when picking days (MO,TU,WE,etc)\n\t\t\t// BYMONTH = when picking months (Jan,Feb,March) - note the values should be 1,2,3...\n\t\t\t// BYMONTHDAY = when picking days of the month (1,2,3...)\n\t\t\t// BYSETPOS = when picking First,Second,Third,Fourth,Last (1,2,3,4,-1)\n\n\t\t\tvar interval = this.$repeatIntervalSpinbox.spinbox('value');\n\t\t\tvar pattern = '';\n\t\t\tvar repeat = this.$repeatIntervalSelect.selectlist('selectedItem').value;\n\t\t\tvar startTime;\n\n\t\t\tif (this.$startTime.combobox('selectedItem').value) {\n\t\t\t\tstartTime = this.$startTime.combobox('selectedItem').value;\n\t\t\t\tstartTime = startTime.toLowerCase();\n\n\t\t\t} else {\n\t\t\t\tstartTime = this.$startTime.combobox('selectedItem').text.toLowerCase();\n\t\t\t}\n\n\t\t\tvar timeZone = this.$timeZone.selectlist('selectedItem');\n\t\t\tvar day, days, hasAm, hasPm, month, pos, startDateTime, type;\n\n\t\t\tstartDateTime = '' + _getFormattedDate(this.$startDate.datepicker('getDate'), '-');\n\n\t\t\tstartDateTime += 'T';\n\t\t\thasAm = (startTime.search('am') >= 0);\n\t\t\thasPm = (startTime.search('pm') >= 0);\n\t\t\tstartTime = langx.trim(startTime.replace(/am/g, '').replace(/pm/g, '')).split(':');\n\t\t\tstartTime[0] = parseInt(startTime[0], 10);\n\t\t\tstartTime[1] = parseInt(startTime[1], 10);\n\t\t\tif (hasAm && startTime[0] > 11) {\n\t\t\t\tstartTime[0] = 0;\n\t\t\t} else if (hasPm && startTime[0] < 12) {\n\t\t\t\tstartTime[0] += 12;\n\t\t\t}\n\n\t\t\tstartDateTime += (startTime[0] < 10) ? '0' + startTime[0] : startTime[0];\n\t\t\tstartDateTime += ':';\n\t\t\tstartDateTime += (startTime[1] < 10) ? '0' + startTime[1] : startTime[1];\n\n\t\t\tstartDateTime += (timeZone.offset === '+00:00') ? 'Z' : timeZone.offset;\n\n\t\t\tif (repeat === 'none') {\n\t\t\t\tpattern = 'FREQ=DAILY;INTERVAL=1;COUNT=1;';\n\t\t\t} else if (repeat === 'secondly') {\n\t\t\t\tpattern = 'FREQ=SECONDLY;';\n\t\t\t\tpattern += 'INTERVAL=' + interval + ';';\n\t\t\t} else if (repeat === 'minutely') {\n\t\t\t\tpattern = 'FREQ=MINUTELY;';\n\t\t\t\tpattern += 'INTERVAL=' + interval + ';';\n\t\t\t} else if (repeat === 'hourly') {\n\t\t\t\tpattern = 'FREQ=HOURLY;';\n\t\t\t\tpattern += 'INTERVAL=' + interval + ';';\n\t\t\t} else if (repeat === 'daily') {\n\t\t\t\tpattern += 'FREQ=DAILY;';\n\t\t\t\tpattern += 'INTERVAL=' + interval + ';';\n\t\t\t} else if (repeat === 'weekdays') {\n\t\t\t\tpattern += 'FREQ=WEEKLY;';\n\t\t\t\tpattern += 'BYDAY=MO,TU,WE,TH,FR;';\n\t\t\t\tpattern += 'INTERVAL=1;';\n\t\t\t} else if (repeat === 'weekly') {\n\t\t\t\tdays = [];\n\t\t\t\tthis.$element.find('.repeat-days-of-the-week .btn-group input:checked').each(function () {\n\t\t\t\t\tdays.push($(this).data().value);\n\t\t\t\t});\n\n\t\t\t\tpattern += 'FREQ=WEEKLY;';\n\t\t\t\tpattern += 'BYDAY=' + days.join(',') + ';';\n\t\t\t\tpattern += 'INTERVAL=' + interval + ';';\n\t\t\t} else if (repeat === 'monthly') {\n\t\t\t\tpattern += 'FREQ=MONTHLY;';\n\t\t\t\tpattern += 'INTERVAL=' + interval + ';';\n\t\t\t\ttype = this.$element.find('input[name=repeat-monthly]:checked').val();\n\n\t\t\t\tif (type === 'bymonthday') {\n\t\t\t\t\tday = parseInt(this.$element.find('.repeat-monthly-date .selectlist').selectlist('selectedItem').text, 10);\n\t\t\t\t\tpattern += 'BYMONTHDAY=' + day + ';';\n\t\t\t\t} else if (type === 'bysetpos') {\n\t\t\t\t\tdays = this.$element.find('.repeat-monthly-day .month-days').selectlist('selectedItem').value;\n\t\t\t\t\tpos = this.$element.find('.repeat-monthly-day .month-day-pos').selectlist('selectedItem').value;\n\t\t\t\t\tpattern += 'BYDAY=' + days + ';';\n\t\t\t\t\tpattern += 'BYSETPOS=' + pos + ';';\n\t\t\t\t}\n\n\t\t\t} else if (repeat === 'yearly') {\n\t\t\t\tpattern += 'FREQ=YEARLY;';\n\t\t\t\ttype = this.$element.find('input[name=repeat-yearly]:checked').val();\n\n\t\t\t\tif (type === 'bymonthday') {\n\t\t\t\t\t// there are multiple .year-month classed elements in scheduler markup\n\t\t\t\t\tmonth = this.$element.find('.repeat-yearly-date .year-month').selectlist('selectedItem').value;\n\t\t\t\t\tday = this.$element.find('.repeat-yearly-date .year-month-day').selectlist('selectedItem').text;\n\t\t\t\t\tpattern += 'BYMONTH=' + month + ';';\n\t\t\t\t\tpattern += 'BYMONTHDAY=' + day + ';';\n\t\t\t\t} else if (type === 'bysetpos') {\n\t\t\t\t\tdays = this.$element.find('.repeat-yearly-day .year-month-days').selectlist('selectedItem').value;\n\t\t\t\t\tpos = this.$element.find('.repeat-yearly-day .year-month-day-pos').selectlist('selectedItem').value;\n\t\t\t\t\t// there are multiple .year-month classed elements in scheduler markup\n\t\t\t\t\tmonth = this.$element.find('.repeat-yearly-day .year-month').selectlist('selectedItem').value;\n\n\t\t\t\t\tpattern += 'BYDAY=' + days + ';';\n\t\t\t\t\tpattern += 'BYSETPOS=' + pos + ';';\n\t\t\t\t\tpattern += 'BYMONTH=' + month + ';';\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar end = this.$endSelect.selectlist('selectedItem').value;\n\t\t\tvar duration = '';\n\n\t\t\t// if both UNTIL and COUNT are not specified, the recurrence will repeat forever\n\t\t\t// http://tools.ietf.org/html/rfc2445#section-4.3.10\n\t\t\tif (repeat !== 'none') {\n\t\t\t\tif (end === 'after') {\n\t\t\t\t\tduration = 'COUNT=' + this.$endAfter.spinbox('value') + ';';\n\t\t\t\t} else if (end === 'date') {\n\t\t\t\t\tduration = 'UNTIL=' + _getFormattedDate(this.$endDate.datepicker('getDate'), '') + ';';\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tpattern += duration;\n\t\t\t// remove trailing semicolon\n\t\t\tpattern = pattern.substring(pattern.length - 1) === ';' ? pattern.substring(0, pattern.length - 1) : pattern;\n\n\t\t\tvar data = {\n\t\t\t\tstartDateTime: startDateTime,\n\t\t\t\ttimeZone: timeZone,\n\t\t\t\trecurrencePattern: pattern\n\t\t\t};\n\n\t\t\treturn data;\n\t\t},\n\n\t\t// called when the repeat interval changes\n\t\t// (None, Hourly, Daily, Weekdays, Weekly, Monthly, Yearly\n\t\trepeatIntervalSelectChanged: function repeatIntervalSelectChanged(e, data) {\n\t\t\tvar selectedItem, val, txt;\n\n\t\t\tif (!data) {\n\t\t\t\tselectedItem = this.$repeatIntervalSelect.selectlist('selectedItem');\n\t\t\t\tval = selectedItem.value || \"\";\n\t\t\t\ttxt = selectedItem.text || \"\";\n\t\t\t} else {\n\t\t\t\tval = data.value;\n\t\t\t\ttxt = data.text;\n\t\t\t}\n\n\t\t\t// set the text\n\t\t\tthis.$repeatIntervalTxt.text(txt);\n\n\t\t\tswitch (val.toLowerCase()) {\n\t\t\t\tcase 'hourly':\n\t\t\t\tcase 'daily':\n\t\t\t\tcase 'weekly':\n\t\t\t\tcase 'monthly':\n\t\t\t\t\tthis.$repeatIntervalPanel.removeClass('hide hidden'); // jQuery deprecated hide in 3.0. Use hidden instead. Leaving hide here to support previous markup\n\t\t\t\t\tthis.$repeatIntervalPanel.attr('aria-hidden', 'false');\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.$repeatIntervalPanel.addClass('hidden'); // jQuery deprecated hide in 3.0. Use hidden instead. Leaving hide here to support previous markup\n\t\t\t\t\tthis.$repeatIntervalPanel.attr('aria-hidden', 'true');\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// hide all panels\n\t\t\tthis.$recurrencePanels.addClass('hidden');\n\t\t\tthis.$recurrencePanels.attr('aria-hidden', 'true');\n\n\t\t\t// show panel for current selection\n\t\t\tthis.$element.find('.repeat-' + val).removeClass('hide hidden'); // jQuery deprecated hide in 3.0. Use hidden instead. Leaving hide here to support previous markup\n\t\t\tthis.$element.find('.repeat-' + val).attr('aria-hidden', 'false');\n\n\t\t\t// the end selection should only be shown when\n\t\t\t// the repeat interval is not \"None (run once)\"\n\t\t\tif (val === 'none') {\n\t\t\t\tthis.$end.addClass('hidden');\n\t\t\t\tthis.$end.attr('aria-hidden', 'true');\n\t\t\t} else {\n\t\t\t\tthis.$end.removeClass('hide hidden'); // jQuery deprecated hide in 3.0. Use hidden instead. Leaving hide here to support previous markup\n\t\t\t\tthis.$end.attr('aria-hidden', 'false');\n\t\t\t}\n\n\t\t\tthis._guessEndDate();\n\t\t},\n\n\t\t_parseAndSetRecurrencePattern: function(recurrencePattern, startTime) {\n\t\t\tvar recur = {};\n\t\t\tvar i = 0;\n\t\t\tvar item = '';\n\t\t\tvar commaPatternSplit;\n\n\t\t\tvar $repeatMonthlyDate, $repeatYearlyDate, $repeatYearlyDay;\n\n\t\t\tvar semiColonPatternSplit = recurrencePattern.toUpperCase().split(';');\n\t\t\tfor (i = 0; i < semiColonPatternSplit.length; i++) {\n\t\t\t\tif (semiColonPatternSplit[i] !== '') {\n\t\t\t\t\titem = semiColonPatternSplit[i].split('=');\n\t\t\t\t\trecur[item[0]] = item[1];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (recur.FREQ === 'DAILY') {\n\t\t\t\tif (recur.BYDAY === 'MO,TU,WE,TH,FR') {\n\t\t\t\t\titem = 'weekdays';\n\t\t\t\t} else {\n\t\t\t\t\tif (recur.INTERVAL === '1' && recur.COUNT === '1') {\n\t\t\t\t\t\titem = 'none';\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem = 'daily';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (recur.FREQ === 'SECONDLY') {\n\t\t\t\titem = 'secondly';\n\t\t\t} else if (recur.FREQ === 'MINUTELY') {\n\t\t\t\titem = 'minutely';\n\t\t\t} else if (recur.FREQ === 'HOURLY') {\n\t\t\t\titem = 'hourly';\n\t\t\t} else if (recur.FREQ === 'WEEKLY') {\n\t\t\t\titem = 'weekly';\n\n\t\t\t\tif (recur.BYDAY) {\n\t\t\t\t\tif (recur.BYDAY === 'MO,TU,WE,TH,FR') {\n\t\t\t\t\t\titem = 'weekdays';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar el = this.$element.find('.repeat-days-of-the-week .btn-group');\n\t\t\t\t\t\tel.find('label').removeClass('active');\n\t\t\t\t\t\tcommaPatternSplit = recur.BYDAY.split(',');\n\t\t\t\t\t\tfor (i = 0; i < commaPatternSplit.length; i++) {\n\t\t\t\t\t\t\tel.find('input[data-value=\"' + commaPatternSplit[i] + '\"]').prop('checked',true).parent().addClass('active');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (recur.FREQ === 'MONTHLY') {\n\t\t\t\tthis.$element.find('.repeat-monthly input').removeAttr('checked').removeClass('checked');\n\t\t\t\tthis.$element.find('.repeat-monthly label.radio-custom').removeClass('checked');\n\t\t\t\tif (recur.BYMONTHDAY) {\n\t\t\t\t\t$repeatMonthlyDate = this.$element.find('.repeat-monthly-date');\n\t\t\t\t\t$repeatMonthlyDate.find('input').addClass('checked').prop('checked', true);\n\t\t\t\t\t$repeatMonthlyDate.find('label.radio-custom').addClass('checked');\n\t\t\t\t\t$repeatMonthlyDate.find('.selectlist').selectlist('selectByValue', recur.BYMONTHDAY);\n\t\t\t\t} else if (recur.BYDAY) {\n\t\t\t\t\tvar $repeatMonthlyDay = this.$element.find('.repeat-monthly-day');\n\t\t\t\t\t$repeatMonthlyDay.find('input').addClass('checked').prop('checked', true);\n\t\t\t\t\t$repeatMonthlyDay.find('label.radio-custom').addClass('checked');\n\t\t\t\t\tif (recur.BYSETPOS) {\n\t\t\t\t\t\t$repeatMonthlyDay.find('.month-day-pos').selectlist('selectByValue', recur.BYSETPOS);\n\t\t\t\t\t}\n\n\t\t\t\t\t$repeatMonthlyDay.find('.month-days').selectlist('selectByValue', recur.BYDAY);\n\t\t\t\t}\n\n\t\t\t\titem = 'monthly';\n\t\t\t} else if (recur.FREQ === 'YEARLY') {\n\t\t\t\tthis.$element.find('.repeat-yearly input').removeAttr('checked').removeClass('checked');\n\t\t\t\tthis.$element.find('.repeat-yearly label.radio-custom').removeClass('checked');\n\t\t\t\tif (recur.BYMONTHDAY) {\n\t\t\t\t\t$repeatYearlyDate = this.$element.find('.repeat-yearly-date');\n\t\t\t\t\t$repeatYearlyDate.find('input').addClass('checked').prop('checked', true);\n\t\t\t\t\t$repeatYearlyDate.find('label.radio-custom').addClass('checked');\n\t\t\t\t\tif (recur.BYMONTH) {\n\t\t\t\t\t\t$repeatYearlyDate.find('.year-month').selectlist('selectByValue', recur.BYMONTH);\n\t\t\t\t\t}\n\n\t\t\t\t\t$repeatYearlyDate.find('.year-month-day').selectlist('selectByValue', recur.BYMONTHDAY);\n\t\t\t\t} else if (recur.BYSETPOS) {\n\t\t\t\t\t$repeatYearlyDay = this.$element.find('.repeat-yearly-day');\n\t\t\t\t\t$repeatYearlyDay.find('input').addClass('checked').prop('checked', true);\n\t\t\t\t\t$repeatYearlyDay.find('label.radio-custom').addClass('checked');\n\t\t\t\t\t$repeatYearlyDay.find('.year-month-day-pos').selectlist('selectByValue', recur.BYSETPOS);\n\n\t\t\t\t\tif (recur.BYDAY) {\n\t\t\t\t\t\t$repeatYearlyDay.find('.year-month-days').selectlist('selectByValue', recur.BYDAY);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (recur.BYMONTH) {\n\t\t\t\t\t\t$repeatYearlyDay.find('.year-month').selectlist('selectByValue', recur.BYMONTH);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\titem = 'yearly';\n\t\t\t} else {\n\t\t\t\titem = 'none';\n\t\t\t}\n\n\t\t\tif (recur.COUNT) {\n\t\t\t\tthis.$endAfter.spinbox('value', parseInt(recur.COUNT, 10));\n\t\t\t\tthis.$endSelect.selectlist('selectByValue', 'after');\n\t\t\t} else if (recur.UNTIL) {\n\t\t\t\tvar untilSplit, untilDate;\n\n\t\t\t\tif (recur.UNTIL.length === 8) {\n\t\t\t\t\tuntilSplit = recur.UNTIL.split('');\n\t\t\t\t\tuntilSplit.splice(4, 0, '-');\n\t\t\t\t\tuntilSplit.splice(7, 0, '-');\n\t\t\t\t\tuntilDate = untilSplit.join('');\n\t\t\t\t}\n\n\t\t\t\tvar timeZone = this.$timeZone.selectlist('selectedItem');\n\t\t\t\tvar timezoneOffset = (timeZone.offset === '+00:00') ? 'Z' : timeZone.offset;\n\n\t\t\t\tvar utcEndHours = this.setUtcTime(untilDate, startTime.time24HourFormat, timezoneOffset);\n\t\t\t\tthis.$endDate.datepicker('setDate', utcEndHours);\n\n\t\t\t\tthis.$endSelect.selectlist('selectByValue', 'date');\n\t\t\t} else {\n\t\t\t\tthis.$endSelect.selectlist('selectByValue', 'never');\n\t\t\t}\n\n\t\t\tthis.endSelectChanged();\n\n\t\t\tif (recur.INTERVAL) {\n\t\t\t\tthis.$repeatIntervalSpinbox.spinbox('value', parseInt(recur.INTERVAL, 10));\n\t\t\t}\n\n\t\t\tthis.$repeatIntervalSelect.selectlist('selectByValue', item);\n\t\t\tthis.repeatIntervalSelectChanged();\n\t\t},\n\n\t\t_parseStartDateTime: function(startTimeISO8601) {\n\t\t\tvar startTime = {};\n\t\t\tvar startDate, startDateTimeISO8601FormatSplit, hours, minutes, period;\n\n\t\t\tstartTime.time24HourFormat = startTimeISO8601.split('+')[0].split('-')[0];\n\n\t\t\tif (startTimeISO8601.search(/\\+/) > -1) {\n\t\t\t\tstartTime.timeZoneOffset = '+' + langx.trim(startTimeISO8601.split('+')[1]);\n\t\t\t} else if (startTimeISO8601.search(/\\-/) > -1) {\n\t\t\t\tstartTime.timeZoneOffset = '-' + langx.trim(startTimeISO8601.split('-')[1]);\n\t\t\t} else {\n\t\t\t\tstartTime.timeZoneOffset = '+00:00';\n\t\t\t}\n\n\t\t\tstartTime.time24HourFormatSplit = startTime.time24HourFormat.split(':');\n\t\t\thours = parseInt(startTime.time24HourFormatSplit[0], 10);\n\t\t\tminutes = (startTime.time24HourFormatSplit[1]) ? parseInt(startTime.time24HourFormatSplit[1].split('+')[0].split('-')[0].split('Z')[0], 10) : 0;\n\t\t\tperiod = (hours < 12) ? 'AM' : 'PM';\n\n\t\t\tif (hours === 0) {\n\t\t\t\thours = 12;\n\t\t\t} else if (hours > 12) {\n\t\t\t\thours -= 12;\n\t\t\t}\n\n\t\t\tminutes = (minutes < 10) ? '0' + minutes : minutes;\n\t\t\tstartTime.time12HourFormat = hours + ':' + minutes;\n\t\t\tstartTime.time12HourFormatWithPeriod = hours + ':' + minutes + ' ' + period;\n\n\t\t\treturn startTime;\n\t\t},\n\n\t\t_parseTimeZone: function(options, startTime) {\n\t\t\tstartTime.timeZoneQuerySelector = '';\n\t\t\tif (options.timeZone) {\n\t\t\t\tif (typeof (options.timeZone) === 'string') {\n\t\t\t\t\tstartTime.timeZoneQuerySelector += 'li[data-name=\"' + options.timeZone + '\"]';\n\t\t\t\t} else {\n\t\t\t\t\tlangx.each(options.timeZone, function(key, value) {\n\t\t\t\t\t\tstartTime.timeZoneQuerySelector += 'li[data-' + key + '=\"' + value + '\"]';\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tstartTime.timeZoneOffset = options.timeZone.offset;\n\t\t\t} else if (options.startDateTime) {\n\t\t\t\t// Time zone has not been specified via options object, therefore use the timeZoneOffset from _parseAndSetStartDateTime\n\t\t\t\tstartTime.timeZoneOffset = (startTime.timeZoneOffset === '+00:00') ? 'Z' : startTime.timeZoneOffset;\n\t\t\t\tstartTime.timeZoneQuerySelector += 'li[data-offset=\"' + startTime.timeZoneOffset + '\"]';\n\t\t\t} else {\n\t\t\t\tstartTime.timeZoneOffset = 'Z';\n\t\t\t}\n\n\t\t\treturn startTime.timeZoneOffset;\n\t\t},\n\n\t\t_setTimeUI: function(time12HourFormatWithPeriod) {\n\t\t\tthis.$startTime.find('input').val(time12HourFormatWithPeriod);\n\t\t\tthis.$startTime.combobox('selectByText', time12HourFormatWithPeriod);\n\t\t},\n\n\t\t_setTimeZoneUI: function(querySelector) {\n\t\t\tthis.$timeZone.selectlist('selectBySelector', querySelector);\n\t\t},\n\n\t\tsetValue: function setValue(options) {\n\t\t\tvar startTime = {};\n\t\t\tvar startDateTime, startDate, startTimeISO8601, timeOffset, utcStartHours;\n\n\t\t\t// TIME\n\t\t\tif (options.startDateTime) {\n\t\t\t\tstartDateTime = options.startDateTime.split('T');\n\t\t\t\tstartDate = startDateTime[0];\n\t\t\t\tstartTimeISO8601 = startDateTime[1];\n\n\t\t\t\tif(startTimeISO8601) {\n\t\t\t\t\tstartTime = this._parseStartDateTime(startTimeISO8601);\n\t\t\t\t\tthis._setTimeUI(startTime.time12HourFormatWithPeriod);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tstartTime.time12HourFormat = '00:00';\n\t\t\t\t\tstartTime.time24HourFormat = '00:00';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstartTime.time12HourFormat = '00:00';\n\t\t\t\tstartTime.time24HourFormat = '00:00';\n\t\t\t\tvar currentDate = this.$startDate.datepicker('getDate');\n\t\t\t\tstartDate = currentDate.getFullYear() + '-' + currentDate.getMonth() + '-' + currentDate.getDate();\n\t\t\t}\n\n\t\t\t// TIMEZONE\n\t\t\tthis._parseTimeZone(options, startTime);\n\t\t\tif (startTime.timeZoneQuerySelector) {\n\t\t\t\tthis._setTimeZoneUI(startTime.timeZoneQuerySelector);\n\t\t\t}\n\n\t\t\t// RECURRENCE PATTERN\n\t\t\tif(options.recurrencePattern) {\n\t\t\t\tthis._parseAndSetRecurrencePattern(options.recurrencePattern, startTime);\n\t\t\t}\n\n\t\t\tutcStartHours = this.setUtcTime(startDate, startTime.time24HourFormat, startTime.timeZoneOffset);\n\t\t\tthis.$startDate.datepicker('setDate', utcStartHours);\n\t\t},\n\n\t\ttoggleState: function toggleState(action) {\n\t\t\tthis.$element.find('.combobox').combobox(action);\n\t\t\tthis.$element.find('.datepicker').datepicker(action);\n\t\t\tthis.$element.find('.selectlist').selectlist(action);\n\t\t\tthis.$element.find('.spinbox').spinbox(action);\n\t\t\tthis.$element.find('.radio-custom').radio(action);\n\n\t\t\tif (action === 'disable') {\n\t\t\t\taction = 'addClass';\n\t\t\t} else {\n\t\t\t\taction = 'removeClass';\n\t\t\t}\n\n\t\t\tthis.$element.find('.repeat-days-of-the-week .btn-group')[action]('disabled');\n\t\t},\n\n\t\tvalue: function value(options) {\n\t\t\tif (options) {\n\t\t\t\treturn this.setValue(options);\n\t\t\t} else {\n\t\t\t\treturn this.getValue();\n\t\t\t}\n\t\t}\n\t};\n\n\n\t// SCHEDULER PLUGIN DEFINITION\n\n\t$.fn.scheduler = function scheduler(option) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\t\tvar methodReturn;\n\n\t\tvar $set = this.each(function () {\n\t\t\tvar $this = $(this);\n\t\t\tvar data = $this.data('fu.scheduler');\n\t\t\tvar options = typeof option === 'object' && option;\n\n\t\t\tif (!data) {\n\t\t\t\t$this.data('fu.scheduler', (data = new Scheduler(this, options)));\n\t\t\t}\n\n\t\t\tif (typeof option === 'string') {\n\t\t\t\tmethodReturn = data[option].apply(data, args);\n\t\t\t}\n\t\t});\n\n\t\treturn (methodReturn === undefined) ? $set : methodReturn;\n\t};\n\n\t$.fn.scheduler.defaults = {};\n\n\t$.fn.scheduler.Constructor = Scheduler;\n\n\t$.fn.scheduler.noConflict = function noConflict() {\n\t\t$.fn.scheduler = old;\n\t\treturn this;\n\t};\n\n\n\t// DATA-API\n\t/*\n\n\t$(document).on('mousedown.fu.scheduler.data-api', '[data-initialize=scheduler]', function (e) {\n\t\tvar $control = $(e.target).closest('.scheduler');\n\t\tif (!$control.data('fu.scheduler')) {\n\t\t\t$control.scheduler($control.data());\n\t\t}\n\t});\n\n\t// Must be domReady for AMD compatibility\n\t$(function () {\n\t\t$('[data-initialize=scheduler]').each(function () {\n\t\t\tvar $this = $(this);\n\t\t\tif ($this.data('scheduler')) return;\n\t\t\t$this.scheduler($this.data());\n\t\t});\n\t});\n\t*/\n});\n"]}