{"version":3,"sources":["repeater.js"],"names":["define","langx","browser","eventer","noder","geom","$","old","fn","repeater","Repeater","element","options","$btn","currentView","self","this","$element","$canvas","find","$count","$end","$filters","$loader","$pageSize","$nextBtn","$pages","$prevBtn","$primaryPaging","$search","$secondaryPaging","$start","$viewport","$views","on","e","dropdown","currentPage","isDisabled","infiniteScrollingCallback","infiniteScrollingCont","infiniteScrollingEnabled","infiniteScrollingEnd","infiniteScrollingOptions","lastPageInput","mixin","defaults","pageIncrement","resizeTimeout","stamp","Date","getTime","Math","floor","random","storedDataSourceOpts","syncingViewButtonState","viewOptions","viewType","selectlist","combobox","search","searchOnKeyPress","allowCancel","value","trigger","render","clearInfinite","proxy","next","previous","evt","data","pageInputChange","text","val","keyCode","viewChanged","window","clearTimeout","setTimeout","resize","loader","defaultView","length","setViewOptions","initViewTypes","changeView","logWarn","msg","console","warn","scan","cont","keep","children","each","item","pres","attr","detach","push","empty","append","addItem","$parent","response","action","undefined","$container","container","callNextInit","currentViewType","viewTypes","callback","nextViewType","initViewType","call","currentViewtype","initialize","afterRender","state","initInfiniteScrolling","infiniteScrollPaging","hide","enable","dataOptions","renderOptions","doRender","itemization","pagination","renderItems","viewTypeObj","d","prototype","constructor","clear","opts","preserve","cleared","clearPreservedDataSourceOptions","destroy","markup","outerHTML","infinitescroll","remove","off","disable","addClass","enabled","status","removeClass","removeAttr","hasClass","parseInt","html","getDataOptions","dataSourceOptions","preserveDataSourceOptions","returnOptions","view","pageIndex","filter","pageSize","searchValue","addViewTypeData","infiniteScrolling","footer","viewport","end","dataSource","css","height","outerHeight","show","page","pages","NaN","helpers","key","hasOwnProperty","count","start","dataFromCombobox","pageInc","totalPages","currenPageOutput","dropPagingCap","dropMenu","i","l","is","focus","prevView","split","selected","syncViewButtonState","beforeRender","repeaterPrototypeContext","dataSourceReturnedData","viewportMargins","currentHiddenElement","staticHeight","scrubbedElements","previousProperties","$hiddenElements","parentsUntil","currentElementIndex","style","bottom","top","staticHeightValue","headerHeight","footerHeight","bottomMargin","topMargin","width","outerWidth","forEach","before","addBefore","$dataContainer","renderItem","subset","objectAndPropsToRepeatOnString","repeat","objectAndPropsToRepeatOn","objectToRepeatOn","propsToRepeatOn","slice","prop","subItemIndex","addSubItem","index","after","addAfter","curView","viewName","views","$selected","target","parents","$itemToCheck","runRenderer","option","methodReturn","args","Array","arguments","$set","$this","apply","items","Constructor","noConflict"],"mappings":"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","file":"../repeater.js","sourcesContent":["define([\n  \"skylark-utils/langx\",\n  \"skylark-utils/browser\",\n  \"skylark-utils/eventer\",\n  \"skylark-utils/noder\",\n  \"skylark-utils/geom\",\n  \"skylark-utils/query\",\n  \"./loader\"\n],function(langx,browser,eventer,noder,geom,$){\n\n\t/*\n\t * Fuel UX Checkbox\n\t * https://github.com/ExactTarget/fuelux\n\t *\n\t * Copyright (c) 2014 ExactTarget\n\t * Licensed under the BSD New license.\n\t */\n\n\tvar old = $.fn.repeater;\n\n\t// REPEATER CONSTRUCTOR AND PROTOTYPE\n\n\tvar Repeater = function Repeater (element, options) {\n\t\tvar self = this;\n\t\tvar $btn;\n\t\tvar currentView;\n\n\t\tthis.$element = $(element);\n\n\t\tthis.$canvas = this.$element.find('.repeater-canvas');\n\t\tthis.$count = this.$element.find('.repeater-count');\n\t\tthis.$end = this.$element.find('.repeater-end');\n\t\tthis.$filters = this.$element.find('.repeater-filters');\n\t\tthis.$loader = this.$element.find('.repeater-loader');\n\t\tthis.$pageSize = this.$element.find('.repeater-itemization .selectlist');\n\t\tthis.$nextBtn = this.$element.find('.repeater-next');\n\t\tthis.$pages = this.$element.find('.repeater-pages');\n\t\tthis.$prevBtn = this.$element.find('.repeater-prev');\n\t\tthis.$primaryPaging = this.$element.find('.repeater-primaryPaging');\n\t\tthis.$search = this.$element.find('.repeater-search').find('.search');\n\t\tthis.$secondaryPaging = this.$element.find('.repeater-secondaryPaging');\n\t\tthis.$start = this.$element.find('.repeater-start');\n\t\tthis.$viewport = this.$element.find('.repeater-viewport');\n\t\tthis.$views = this.$element.find('.repeater-views');\n\n\t\tthis.$element.on('mousedown.bs.dropdown.data-api', '[data-toggle=\"dropdown\"]',function(e) {\n\t\t\t$(this).dropdown();\n\t\t}); \n\n\t\tthis.currentPage = 0;\n\t\tthis.currentView = null;\n\t\tthis.isDisabled = false;\n\t\tthis.infiniteScrollingCallback = function noop () {};\n\t\tthis.infiniteScrollingCont = null;\n\t\tthis.infiniteScrollingEnabled = false;\n\t\tthis.infiniteScrollingEnd = null;\n\t\tthis.infiniteScrollingOptions = {};\n\t\tthis.lastPageInput = 0;\n\t\tthis.options = langx.mixin({}, $.fn.repeater.defaults, options);\n\t\tthis.pageIncrement = 0;// store direction navigated\n\t\tthis.resizeTimeout = {};\n\t\tthis.stamp = new Date().getTime() + (Math.floor(Math.random() * 100) + 1);\n\t\tthis.storedDataSourceOpts = null;\n\t\tthis.syncingViewButtonState = false;\n\t\tthis.viewOptions = {};\n\t\tthis.viewType = null;\n\n\t\tthis.$filters.selectlist();\n\t\tthis.$pageSize.selectlist();\n\t\tthis.$primaryPaging.find('.combobox').combobox();\n\t\tthis.$search.search({\n\t\t\tsearchOnKeyPress: this.options.searchOnKeyPress,\n\t\t\tallowCancel: this.options.allowCancel\n\t\t});\n\n\t\tthis.$filters.on('changed.fu.selectlist', function onFiltersChanged (e, value) {\n\t\t\tself.$element.trigger('filtered.fu.repeater', value);\n\t\t\tself.render({\n\t\t\t\tclearInfinite: true,\n\t\t\t\tpageIncrement: null\n\t\t\t});\n\t\t});\n\t\tthis.$nextBtn.on('click.fu.repeater', langx.proxy(this.next, this));\n\t\tthis.$pageSize.on('changed.fu.selectlist', function onPageSizeChanged (e, value) {\n\t\t\tself.$element.trigger('pageSizeChanged.fu.repeater', value);\n\t\t\tself.render({\n\t\t\t\tpageIncrement: null\n\t\t\t});\n\t\t});\n\t\tthis.$prevBtn.on('click.fu.repeater', langx.proxy(this.previous, this));\n\t\tthis.$primaryPaging.find('.combobox').on('changed.fu.combobox', function onPrimaryPagingChanged (evt, data) {\n\t\t\tself.pageInputChange(data.text, data);\n\t\t});\n\t\tthis.$search.on('searched.fu.search cleared.fu.search', function onSearched (e, value) {\n\t\t\tself.$element.trigger('searchChanged.fu.repeater', value);\n\t\t\tself.render({\n\t\t\t\tclearInfinite: true,\n\t\t\t\tpageIncrement: null\n\t\t\t});\n\t\t});\n\t\tthis.$search.on('canceled.fu.search', function onSearchCanceled (e, value) {\n\t\t\tself.$element.trigger('canceled.fu.repeater', value);\n\t\t\tself.render({\n\t\t\t\tclearInfinite: true,\n\t\t\t\tpageIncrement: null\n\t\t\t});\n\t\t});\n\n\t\tthis.$secondaryPaging.on('blur.fu.repeater', function onSecondaryPagingBlur () {\n\t\t\tself.pageInputChange(self.$secondaryPaging.val());\n\t\t});\n\t\tthis.$secondaryPaging.on('keyup', function onSecondaryPagingKeyup (e) {\n\t\t\tif (e.keyCode === 13) {\n\t\t\t\tself.pageInputChange(self.$secondaryPaging.val());\n\t\t\t}\n\t\t});\n\t\tthis.$views.find('input').on('change.fu.repeater', langx.proxy(this.viewChanged, this));\n\n\t\t$(window).on('resize.fu.repeater.' + this.stamp, function onResizeRepeater () {\n\t\t\tclearTimeout(self.resizeTimeout);\n\t\t\tself.resizeTimeout = setTimeout(function resizeTimeout () {\n\t\t\t\tself.resize();\n\t\t\t\tself.$element.trigger('resized.fu.repeater');\n\t\t\t}, 75);\n\t\t});\n\n\t\tthis.$loader.loader();\n\t\tthis.$loader.loader('pause');\n\t\tif (this.options.defaultView !== -1) {\n\t\t\tcurrentView = this.options.defaultView;\n\t\t} else {\n\t\t\t$btn = this.$views.find('label.active input');\n\t\t\tcurrentView = ($btn.length > 0) ? $btn.val() : 'list';\n\t\t}\n\n\t\tthis.setViewOptions(currentView);\n\n\t\tthis.initViewTypes(function initViewTypes () {\n\t\t\tself.resize();\n\t\t\tself.$element.trigger('resized.fu.repeater');\n\t\t\tself.render({\n\t\t\t\tchangeView: currentView\n\t\t\t});\n\t\t});\n\t};\n\n\tvar logWarn = function logWarn (msg) {\n\t\tif (window.console && window.console.warn) {\n\t\t\twindow.console.warn(msg);\n\t\t}\n\t};\n\n\tvar scan = function scan (cont) {\n\t\tvar keep = [];\n\t\tcont.children().each(function eachContainerChild () {\n\t\t\tvar item = $(this);\n\t\t\tvar pres = item.attr('data-preserve');\n\t\t\tif (pres === 'deep') {\n\t\t\t\titem.detach();\n\t\t\t\tkeep.push(item);\n\t\t\t} else if (pres === 'shallow') {\n\t\t\t\tscan(item);\n\t\t\t\titem.detach();\n\t\t\t\tkeep.push(item);\n\t\t\t}\n\t\t});\n\t\tcont.empty();\n\t\tcont.append(keep);\n\t};\n\n\tvar addItem = function addItem ($parent, response) {\n\t\tvar action;\n\t\tif (response) {\n\t\t\taction = (response.action) ? response.action : 'append';\n\t\t\tif (action !== 'none' && response.item !== undefined) {\n\t\t\t\tvar $container = (response.container !== undefined) ? $(response.container) : $parent;\n\t\t\t\t$container[action](response.item);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar callNextInit = function callNextInit (currentViewType, viewTypes, callback) {\n\t\tvar nextViewType = currentViewType + 1;\n\t\tif (nextViewType < viewTypes.length) {\n\t\t\tinitViewType.call(this, nextViewType, viewTypes, callback);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t};\n\n\tvar initViewType = function initViewType (currentViewtype, viewTypes, callback) {\n\t\tif (viewTypes[currentViewtype].initialize) {\n\t\t\tviewTypes[currentViewtype].initialize.call(this, {}, function afterInitialize () {\n\t\t\t\tcallNextInit.call(this, currentViewtype, viewTypes, callback);\n\t\t\t});\n\t\t} else {\n\t\t\tcallNextInit.call(this, currentViewtype, viewTypes, callback);\n\t\t}\n\t};\n\n\t// Does all of our cleanup post-render\n\tvar afterRender = function afterRender (state) {\n\t\tvar data = state.data || {};\n\n\t\tif (this.infiniteScrollingEnabled) {\n\t\t\tif (state.viewChanged || state.options.clearInfinite) {\n\t\t\t\tthis.initInfiniteScrolling();\n\t\t\t}\n\n\t\t\tthis.infiniteScrollPaging(data, state.options);\n\t\t}\n\n\t\tthis.$loader.hide().loader('pause');\n\t\tthis.enable();\n\n\t\tthis.$search.trigger('rendered.fu.repeater', {\n\t\t\tdata: data,\n\t\t\toptions: state.dataOptions,\n\t\t\trenderOptions: state.options\n\t\t});\n\t\tthis.$element.trigger('rendered.fu.repeater', {\n\t\t\tdata: data,\n\t\t\toptions: state.dataOptions,\n\t\t\trenderOptions: state.options\n\t\t});\n\n\t\t// for maintaining support of 'loaded' event\n\t\tthis.$element.trigger('loaded.fu.repeater', state.dataOptions);\n\t};\n\n\t// This does the actual rendering of the repeater\n\tvar doRender = function doRender (state) {\n\t\tvar data = state.data || {};\n\n\t\tif (this.infiniteScrollingEnabled) {\n\t\t\t// pass empty object because data handled in infiniteScrollPaging method\n\t\t\tthis.infiniteScrollingCallback({});\n\t\t} else {\n\t\t\tthis.itemization(data);\n\t\t\tthis.pagination(data);\n\t\t}\n\n\t\tvar self = this;\n\t\tthis.renderItems(\n\t\t\tstate.viewTypeObj,\n\t\t\tdata,\n\t\t\tfunction callAfterRender (d) {\n\t\t\t\tstate.data = d;\n\t\t\t\tafterRender.call(self, state);\n\t\t\t}\n\t\t);\n\t};\n\n\tRepeater.prototype = {\n\t\tconstructor: Repeater,\n\n\t\tclear: function clear (opts) {\n\t\t\tvar options = opts || {};\n\n\t\t\tif (!options.preserve) {\n\t\t\t\t// Just trash everything because preserve is false\n\t\t\t\tthis.$canvas.empty();\n\t\t\t} else if (!this.infiniteScrollingEnabled || options.clearInfinite) {\n\t\t\t\t// Preserve clear only if infiniteScrolling is disabled or if specifically told to do so\n\t\t\t\tscan(this.$canvas);\n\t\t\t} // Otherwise don't clear because infiniteScrolling is enabled\n\n\t\t\t// If viewChanged and current viewTypeObj has a cleared function, call it\n\t\t\tvar viewChanged = (options.viewChanged !== undefined) ? options.viewChanged : false;\n\t\t\tvar viewTypeObj = $.fn.repeater.viewTypes[this.viewType] || {};\n\t\t\tif (!viewChanged && viewTypeObj.cleared) {\n\t\t\t\tviewTypeObj.cleared.call(this, {\n\t\t\t\t\toptions: options\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tclearPreservedDataSourceOptions: function clearPreservedDataSourceOptions () {\n\t\t\tthis.storedDataSourceOpts = null;\n\t\t},\n\n\t\tdestroy: function destroy () {\n\t\t\tvar markup;\n\t\t\t// set input value attrbute in markup\n\t\t\tthis.$element.find('input').each(function eachInput () {\n\t\t\t\t$(this).attr('value', $(this).val());\n\t\t\t});\n\n\t\t\t// empty elements to return to original markup\n\t\t\tthis.$canvas.empty();\n\t\t\tmarkup = this.$element[0].outerHTML;\n\n\t\t\t// destroy components and remove leftover\n\t\t\tthis.$element.find('.combobox').combobox('destroy');\n\t\t\tthis.$element.find('.selectlist').selectlist('destroy');\n\t\t\tthis.$element.find('.search').search('destroy');\n\t\t\tif (this.infiniteScrollingEnabled) {\n\t\t\t\t$(this.infiniteScrollingCont).infinitescroll('destroy');\n\t\t\t}\n\n\t\t\tthis.$element.remove();\n\n\t\t\t// any external events\n\t\t\t$(window).off('resize.fu.repeater.' + this.stamp);\n\n\t\t\treturn markup;\n\t\t},\n\n\t\tdisable: function disable () {\n\t\t\tvar viewTypeObj = $.fn.repeater.viewTypes[this.viewType] || {};\n\n\t\t\tthis.$search.search('disable');\n\t\t\tthis.$filters.selectlist('disable');\n\t\t\tthis.$views.find('label, input').addClass('disabled').attr('disabled', 'disabled');\n\t\t\tthis.$pageSize.selectlist('disable');\n\t\t\tthis.$primaryPaging.find('.combobox').combobox('disable');\n\t\t\tthis.$secondaryPaging.attr('disabled', 'disabled');\n\t\t\tthis.$prevBtn.attr('disabled', 'disabled');\n\t\t\tthis.$nextBtn.attr('disabled', 'disabled');\n\n\t\t\tif (viewTypeObj.enabled) {\n\t\t\t\tviewTypeObj.enabled.call(this, {\n\t\t\t\t\tstatus: false\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.isDisabled = true;\n\t\t\tthis.$element.addClass('disabled');\n\t\t\tthis.$element.trigger('disabled.fu.repeater');\n\t\t},\n\n\t\tenable: function enable () {\n\t\t\tvar viewTypeObj = $.fn.repeater.viewTypes[this.viewType] || {};\n\n\t\t\tthis.$search.search('enable');\n\t\t\tthis.$filters.selectlist('enable');\n\t\t\tthis.$views.find('label, input').removeClass('disabled').removeAttr('disabled');\n\t\t\tthis.$pageSize.selectlist('enable');\n\t\t\tthis.$primaryPaging.find('.combobox').combobox('enable');\n\t\t\tthis.$secondaryPaging.removeAttr('disabled');\n\n\t\t\tif (!this.$prevBtn.hasClass('page-end')) {\n\t\t\t\tthis.$prevBtn.removeAttr('disabled');\n\t\t\t}\n\t\t\tif (!this.$nextBtn.hasClass('page-end')) {\n\t\t\t\tthis.$nextBtn.removeAttr('disabled');\n\t\t\t}\n\n\t\t\t// is 0 or 1 pages, if using $primaryPaging (combobox)\n\t\t\t// if using selectlist allow user to use selectlist to select 0 or 1\n\t\t\tif (this.$prevBtn.hasClass('page-end') && this.$nextBtn.hasClass('page-end')) {\n\t\t\t\tthis.$primaryPaging.combobox('disable');\n\t\t\t}\n\n\t\t\t// if there are no items\n\t\t\tif (parseInt(this.$count.html(), 10) !== 0) {\n\t\t\t\tthis.$pageSize.selectlist('enable');\n\t\t\t} else {\n\t\t\t\tthis.$pageSize.selectlist('disable');\n\t\t\t}\n\n\t\t\tif (viewTypeObj.enabled) {\n\t\t\t\tviewTypeObj.enabled.call(this, {\n\t\t\t\t\tstatus: true\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.isDisabled = false;\n\t\t\tthis.$element.removeClass('disabled');\n\t\t\tthis.$element.trigger('enabled.fu.repeater');\n\t\t},\n\n\t\tgetDataOptions: function getDataOptions (opts) {\n\t\t\tvar options = opts || {};\n\t\t\tif (options.pageIncrement !== undefined) {\n\t\t\t\tif (options.pageIncrement === null) {\n\t\t\t\t\tthis.currentPage = 0;\n\t\t\t\t} else {\n\t\t\t\t\tthis.currentPage += options.pageIncrement;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar dataSourceOptions = {};\n\t\t\tif (options.dataSourceOptions) {\n\t\t\t\tdataSourceOptions = options.dataSourceOptions;\n\n\t\t\t\tif (options.preserveDataSourceOptions) {\n\t\t\t\t\tif (this.storedDataSourceOpts) {\n\t\t\t\t\t\tthis.storedDataSourceOpts = langx.mixin(this.storedDataSourceOpts, dataSourceOptions);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.storedDataSourceOpts = dataSourceOptions;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.storedDataSourceOpts) {\n\t\t\t\tdataSourceOptions = langx.mixin(this.storedDataSourceOpts, dataSourceOptions);\n\t\t\t}\n\n\t\t\tvar returnOptions = {\n\t\t\t\tview: this.currentView,\n\t\t\t\tpageIndex: this.currentPage,\n\t\t\t\tfilter: {\n\t\t\t\t\ttext: 'All',\n\t\t\t\t\tvalue: 'all'\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (this.$filters.length > 0) {\n\t\t\t\treturnOptions.filter = this.$filters.selectlist('selectedItem');\n\t\t\t}\n\n\t\t\tif (!this.infiniteScrollingEnabled) {\n\t\t\t\treturnOptions.pageSize = 25;\n\n\t\t\t\tif (this.$pageSize.length > 0) {\n\t\t\t\t\treturnOptions.pageSize = parseInt(this.$pageSize.selectlist('selectedItem').value, 10);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar searchValue = this.$search && this.$search.find('input') && this.$search.find('input').val();\n\t\t\tif (searchValue !== '') {\n\t\t\t\treturnOptions.search = searchValue;\n\t\t\t}\n\n\t\t\tvar viewType = $.fn.repeater.viewTypes[this.viewType] || {};\n\t\t\tvar addViewTypeData = viewType.dataOptions;\n\t\t\tif (addViewTypeData) {\n\t\t\t\treturnOptions = addViewTypeData.call(this, returnOptions);\n\t\t\t}\n\n\t\t\treturnOptions = langx.mixin(returnOptions, dataSourceOptions);\n\n\t\t\treturn returnOptions;\n\t\t},\n\n\t\tinfiniteScrolling: function infiniteScrolling (enable, opts) {\n\t\t\tvar footer = this.$element.find('.repeater-footer');\n\t\t\tvar viewport = this.$element.find('.repeater-viewport');\n\t\t\tvar options = opts || {};\n\n\t\t\tif (enable) {\n\t\t\t\tthis.infiniteScrollingEnabled = true;\n\t\t\t\tthis.infiniteScrollingEnd = options.end;\n\t\t\t\tdelete options.dataSource;\n\t\t\t\tdelete options.end;\n\t\t\t\tthis.infiniteScrollingOptions = options;\n\t\t\t\tviewport.css({\n\t\t\t\t\theight: viewport.height() + footer.outerHeight()\n\t\t\t\t});\n\t\t\t\tfooter.hide();\n\t\t\t} else {\n\t\t\t\tvar cont = this.infiniteScrollingCont;\n\t\t\t\tvar data = cont.data();\n\t\t\t\tdelete data.infinitescroll;\n\t\t\t\tcont.off('scroll');\n\t\t\t\tcont.removeClass('infinitescroll');\n\n\t\t\t\tthis.infiniteScrollingCont = null;\n\t\t\t\tthis.infiniteScrollingEnabled = false;\n\t\t\t\tthis.infiniteScrollingEnd = null;\n\t\t\t\tthis.infiniteScrollingOptions = {};\n\t\t\t\tviewport.css({\n\t\t\t\t\theight: viewport.height() - footer.outerHeight()\n\t\t\t\t});\n\t\t\t\tfooter.show();\n\t\t\t}\n\t\t},\n\n\t\tinfiniteScrollPaging: function infiniteScrollPaging (data) {\n\t\t\tvar end = (this.infiniteScrollingEnd !== true) ? this.infiniteScrollingEnd : undefined;\n\t\t\tvar page = data.page;\n\t\t\tvar pages = data.pages;\n\n\t\t\tthis.currentPage = (page !== undefined) ? page : NaN;\n\n\t\t\tif (data.end === true || (this.currentPage + 1) >= pages) {\n\t\t\t\tthis.infiniteScrollingCont.infinitescroll('end', end);\n\t\t\t}\n\t\t},\n\n\t\tinitInfiniteScrolling: function initInfiniteScrolling () {\n\t\t\tvar cont = this.$canvas.find('[data-infinite=\"true\"]:first');\n\n\t\t\tcont = (cont.length < 1) ? this.$canvas : cont;\n\t\t\tif (cont.data('fu.infinitescroll')) {\n\t\t\t\tcont.infinitescroll('enable');\n\t\t\t} else {\n\t\t\t\tvar self = this;\n\t\t\t\tvar opts = langx.mixin({}, this.infiniteScrollingOptions);\n\t\t\t\topts.dataSource = function dataSource (helpers, callback) {\n\t\t\t\t\tself.infiniteScrollingCallback = callback;\n\t\t\t\t\tself.render({\n\t\t\t\t\t\tpageIncrement: 1\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tcont.infinitescroll(opts);\n\t\t\t\tthis.infiniteScrollingCont = cont;\n\t\t\t}\n\t\t},\n\n\t\tinitViewTypes: function initViewTypes (callback) {\n\t\t\tvar viewTypes = [];\n\n\t\t\tfor (var key in $.fn.repeater.viewTypes) {\n\t\t\t\tif ({}.hasOwnProperty.call($.fn.repeater.viewTypes, key)) {\n\t\t\t\t\tviewTypes.push($.fn.repeater.viewTypes[key]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (viewTypes.length > 0) {\n\t\t\t\tinitViewType.call(this, 0, viewTypes, callback);\n\t\t\t} else {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t},\n\n\t\titemization: function itemization (data) {\n\t\t\tthis.$count.html((data.count !== undefined) ? data.count : '?');\n\t\t\tthis.$end.html((data.end !== undefined) ? data.end : '?');\n\t\t\tthis.$start.html((data.start !== undefined) ? data.start : '?');\n\t\t},\n\n\t\tnext: function next () {\n\t\t\tthis.$nextBtn.attr('disabled', 'disabled');\n\t\t\tthis.$prevBtn.attr('disabled', 'disabled');\n\t\t\tthis.pageIncrement = 1;\n\t\t\tthis.$element.trigger('nextClicked.fu.repeater');\n\t\t\tthis.render({\n\t\t\t\tpageIncrement: this.pageIncrement\n\t\t\t});\n\t\t},\n\n\t\tpageInputChange: function pageInputChange (val, dataFromCombobox) {\n\t\t\t// dataFromCombobox is a proxy for data from combobox's changed event,\n\t\t\t// if no combobox is present data will be undefined\n\t\t\tvar pageInc;\n\t\t\tif (val !== this.lastPageInput) {\n\t\t\t\tthis.lastPageInput = val;\n\t\t\t\tvar value = parseInt(val, 10) - 1;\n\t\t\t\tpageInc = value - this.currentPage;\n\t\t\t\tthis.$element.trigger('pageChanged.fu.repeater', [value, dataFromCombobox]);\n\t\t\t\tthis.render({\n\t\t\t\t\tpageIncrement: pageInc\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tpagination: function pagination (data) {\n\t\t\tthis.$primaryPaging.removeClass('active');\n\t\t\tthis.$secondaryPaging.removeClass('active');\n\n\t\t\tvar totalPages = data.pages;\n\t\t\tthis.currentPage = (data.page !== undefined) ? data.page : NaN;\n\t\t\t// set paging to 0 if total pages is 0, otherwise use one-based index\n\t\t\tvar currenPageOutput = totalPages === 0 ? 0 : this.currentPage + 1;\n\n\t\t\tif (totalPages <= this.viewOptions.dropPagingCap) {\n\t\t\t\tthis.$primaryPaging.addClass('active');\n\t\t\t\tvar dropMenu = this.$primaryPaging.find('.dropdown-menu');\n\t\t\t\tdropMenu.empty();\n\t\t\t\tfor (var i = 0; i < totalPages; i++) {\n\t\t\t\t\tvar l = i + 1;\n\t\t\t\t\tdropMenu.append('<li data-value=\"' + l + '\"><a href=\"#\">' + l + '</a></li>');\n\t\t\t\t}\n\n\t\t\t\tthis.$primaryPaging.find('input.form-control').val(currenPageOutput);\n\t\t\t} else {\n\t\t\t\tthis.$secondaryPaging.addClass('active');\n\t\t\t\tthis.$secondaryPaging.val(currenPageOutput);\n\t\t\t}\n\n\t\t\tthis.lastPageInput = this.currentPage + 1 + '';\n\n\t\t\tthis.$pages.html('' + totalPages);\n\n\t\t\t// this is not the last page\n\t\t\tif ((this.currentPage + 1) < totalPages) {\n\t\t\t\tthis.$nextBtn.removeAttr('disabled');\n\t\t\t\tthis.$nextBtn.removeClass('page-end');\n\t\t\t} else {\n\t\t\t\tthis.$nextBtn.attr('disabled', 'disabled');\n\t\t\t\tthis.$nextBtn.addClass('page-end');\n\t\t\t}\n\n\t\t\t// this is not the first page\n\t\t\tif ((this.currentPage - 1) >= 0) {\n\t\t\t\tthis.$prevBtn.removeAttr('disabled');\n\t\t\t\tthis.$prevBtn.removeClass('page-end');\n\t\t\t} else {\n\t\t\t\tthis.$prevBtn.attr('disabled', 'disabled');\n\t\t\t\tthis.$prevBtn.addClass('page-end');\n\t\t\t}\n\n\t\t\t// return focus to next/previous buttons after navigating\n\t\t\tif (this.pageIncrement !== 0) {\n\t\t\t\tif (this.pageIncrement > 0) {\n\t\t\t\t\tif (this.$nextBtn.is(':disabled')) {\n\t\t\t\t\t\t// if you can't focus, go the other way\n\t\t\t\t\t\tthis.$prevBtn.focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$nextBtn.focus();\n\t\t\t\t\t}\n\t\t\t\t} else if (this.$prevBtn.is(':disabled')) {\n\t\t\t\t\t// if you can't focus, go the other way\n\t\t\t\t\tthis.$nextBtn.focus();\n\t\t\t\t} else {\n\t\t\t\t\tthis.$prevBtn.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tprevious: function previous () {\n\t\t\tthis.$nextBtn.attr('disabled', 'disabled');\n\t\t\tthis.$prevBtn.attr('disabled', 'disabled');\n\t\t\tthis.pageIncrement = -1;\n\t\t\tthis.$element.trigger('previousClicked.fu.repeater');\n\t\t\tthis.render({\n\t\t\t\tpageIncrement: this.pageIncrement\n\t\t\t});\n\t\t},\n\n\t\t// This functions more as a \"pre-render\" than a true \"render\"\n\t\trender: function render (opts) {\n\t\t\tthis.disable();\n\n\t\t\tvar viewChanged = false;\n\t\t\tvar viewTypeObj = $.fn.repeater.viewTypes[this.viewType] || {};\n\t\t\tvar options = opts || {};\n\n\t\t\tif (options.changeView && (this.currentView !== options.changeView)) {\n\t\t\t\tvar prevView = this.currentView;\n\t\t\t\tthis.currentView = options.changeView;\n\t\t\t\tthis.viewType = this.currentView.split('.')[0];\n\t\t\t\tthis.setViewOptions(this.currentView);\n\t\t\t\tthis.$element.attr('data-currentview', this.currentView);\n\t\t\t\tthis.$element.attr('data-viewtype', this.viewType);\n\t\t\t\tviewChanged = true;\n\t\t\t\toptions.viewChanged = viewChanged;\n\n\t\t\t\tthis.$element.trigger('viewChanged.fu.repeater', this.currentView);\n\n\t\t\t\tif (this.infiniteScrollingEnabled) {\n\t\t\t\t\tthis.infiniteScrolling(false);\n\t\t\t\t}\n\n\t\t\t\tviewTypeObj = $.fn.repeater.viewTypes[this.viewType] || {};\n\t\t\t\tif (viewTypeObj.selected) {\n\t\t\t\t\tviewTypeObj.selected.call(this, {\n\t\t\t\t\t\tprevView: prevView\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.syncViewButtonState();\n\n\t\t\toptions.preserve = (options.preserve !== undefined) ? options.preserve : !viewChanged;\n\t\t\tthis.clear(options);\n\n\t\t\tif (!this.infiniteScrollingEnabled || (this.infiniteScrollingEnabled && viewChanged)) {\n\t\t\t\tthis.$loader.show().loader('play');\n\t\t\t}\n\n\t\t\tvar dataOptions = this.getDataOptions(options);\n\n\t\t\tvar beforeRender = this.viewOptions.dataSource;\n\t\t\tvar repeaterPrototypeContext = this;\n\t\t\tbeforeRender(\n\t\t\t\tdataOptions,\n\t\t\t\t// this serves as a bridge function to pass all required data through to the actual function\n\t\t\t\t// that does the rendering for us.\n\t\t\t\tfunction callDoRender (dataSourceReturnedData) {\n\t\t\t\t\tdoRender.call(\n\t\t\t\t\t\trepeaterPrototypeContext,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdata: dataSourceReturnedData,\n\t\t\t\t\t\t\tdataOptions: dataOptions,\n\t\t\t\t\t\t\toptions: options,\n\t\t\t\t\t\t\tviewChanged: viewChanged,\n\t\t\t\t\t\t\tviewTypeObj: viewTypeObj\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\tresize: function resize () {\n\t\t\tvar staticHeight = (this.viewOptions.staticHeight === -1) ? this.$element.attr('data-staticheight') : this.viewOptions.staticHeight;\n\t\t\tvar viewTypeObj = {};\n\t\t\tvar height;\n\t\t\tvar viewportMargins;\n\t\t\tvar scrubbedElements = [];\n\t\t\tvar previousProperties = [];\n\t\t\t//var $hiddenElements = this.$element.parentsUntil(':visible').addBack(); // del addBack() not supported by skyalrk\n\t\t\tvar $hiddenElements = this.$element.parentsUntil(':visible');\n\t\t\tvar currentHiddenElement;\n\t\t\tvar currentElementIndex = 0;\n\n\t\t\t// Set parents to 'display:block' until repeater is visible again\n\t\t\twhile (currentElementIndex < $hiddenElements.length && this.$element.is(':hidden')) {\n\t\t\t\tcurrentHiddenElement = $hiddenElements[currentElementIndex];\n\t\t\t\t// Only set display property on elements that are explicitly hidden (i.e. do not inherit it from their parent)\n\t\t\t\tif ($(currentHiddenElement).is(':hidden')) {\n\t\t\t\t\tpreviousProperties.push(currentHiddenElement.style['display']);\n\t\t\t\t\tcurrentHiddenElement.style['display'] = 'block';\n\t\t\t\t\tscrubbedElements.push(currentHiddenElement);\n\t\t\t\t}\n\t\t\t\tcurrentElementIndex++;\n\t\t\t}\n\n\t\t\tif (this.viewType) {\n\t\t\t\tviewTypeObj = $.fn.repeater.viewTypes[this.viewType] || {};\n\t\t\t}\n\n\t\t\tif (staticHeight !== undefined && staticHeight !== false && staticHeight !== 'false') {\n\t\t\t\tthis.$canvas.addClass('scrolling');\n\t\t\t\tviewportMargins = {\n\t\t\t\t\tbottom: this.$viewport.css('margin-bottom'),\n\t\t\t\t\ttop: this.$viewport.css('margin-top')\n\t\t\t\t};\n\n\t\t\t\tvar staticHeightValue = (staticHeight === 'true' || staticHeight === true) ? this.$element.height() : parseInt(staticHeight, 10);\n\t\t\t\tvar headerHeight = this.$element.find('.repeater-header').outerHeight();\n\t\t\t\tvar footerHeight = this.$element.find('.repeater-footer').outerHeight();\n\t\t\t\tvar bottomMargin = (viewportMargins.bottom === 'auto') ? 0 : parseInt(viewportMargins.bottom, 10);\n\t\t\t\tvar topMargin = (viewportMargins.top === 'auto') ? 0 : parseInt(viewportMargins.top, 10);\n\n\t\t\t\theight = staticHeightValue - headerHeight - footerHeight - bottomMargin - topMargin;\n\t\t\t\tthis.$viewport.outerHeight(height);\n\t\t\t} else {\n\t\t\t\tthis.$canvas.removeClass('scrolling');\n\t\t\t}\n\n\t\t\tif (viewTypeObj.resize) {\n\t\t\t\tviewTypeObj.resize.call(this, {\n\t\t\t\t\theight: this.$element.outerHeight(),\n\t\t\t\t\twidth: this.$element.outerWidth()\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tscrubbedElements.forEach(function (element, i) {\n\t\t\t\telement.style['display'] = previousProperties[i];\n\t\t\t});\n\t\t},\n\n\t\t// e.g. \"Rows\" or \"Thumbnails\"\n\t\trenderItems: function renderItems (viewTypeObj, data, callback) {\n\t\t\tif (!viewTypeObj.render) {\n\t\t\t\tif (viewTypeObj.before) {\n\t\t\t\t\tvar addBefore = viewTypeObj.before.call(this, {\n\t\t\t\t\t\tcontainer: this.$canvas,\n\t\t\t\t\t\tdata: data\n\t\t\t\t\t});\n\t\t\t\t\taddItem(this.$canvas, addBefore);\n\t\t\t\t}\n\n\t\t\t\tvar $dataContainer = this.$canvas.find('[data-container=\"true\"]:last');\n\t\t\t\tvar $container = ($dataContainer.length > 0) ? $dataContainer : this.$canvas;\n\n\t\t\t\t// It appears that the following code would theoretically allow you to pass a deeply\n\t\t\t\t// nested value to \"repeat on\" to be added to the repeater.\n\t\t\t\t// eg. `data.foo.bar.items`\n\t\t\t\tif (viewTypeObj.renderItem) {\n\t\t\t\t\tvar subset;\n\t\t\t\t\tvar objectAndPropsToRepeatOnString = viewTypeObj.repeat || 'data.items';\n\t\t\t\t\tvar objectAndPropsToRepeatOn = objectAndPropsToRepeatOnString.split('.');\n\t\t\t\t\tvar objectToRepeatOn = objectAndPropsToRepeatOn[0];\n\n\t\t\t\t\tif (objectToRepeatOn === 'data' || objectToRepeatOn === 'this') {\n\t\t\t\t\t\tsubset = (objectToRepeatOn === 'this') ? this : data;\n\n\t\t\t\t\t\t// Extracts subset from object chain (get `items` out of `foo.bar.items`). I think....\n\t\t\t\t\t\tvar propsToRepeatOn = objectAndPropsToRepeatOn.slice(1);\n\t\t\t\t\t\tfor (var prop = 0; prop < propsToRepeatOn.length; prop++) {\n\t\t\t\t\t\t\tif (subset[propsToRepeatOn[prop]] !== undefined) {\n\t\t\t\t\t\t\t\tsubset = subset[propsToRepeatOn[prop]];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsubset = [];\n\t\t\t\t\t\t\t\tlogWarn('WARNING: Repeater unable to find property to iterate renderItem on.');\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (var subItemIndex = 0; subItemIndex < subset.length; subItemIndex++) {\n\t\t\t\t\t\t\tvar addSubItem = viewTypeObj.renderItem.call(this, {\n\t\t\t\t\t\t\t\tcontainer: $container,\n\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\tindex: subItemIndex,\n\t\t\t\t\t\t\t\tsubset: subset\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\taddItem($container, addSubItem);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlogWarn('WARNING: Repeater plugin \"repeat\" value must start with either \"data\" or \"this\"');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (viewTypeObj.after) {\n\t\t\t\t\tvar addAfter = viewTypeObj.after.call(this, {\n\t\t\t\t\t\tcontainer: this.$canvas,\n\t\t\t\t\t\tdata: data\n\t\t\t\t\t});\n\t\t\t\t\taddItem(this.$canvas, addAfter);\n\t\t\t\t}\n\n\t\t\t\tcallback(data);\n\t\t\t} else {\n\t\t\t\tviewTypeObj.render.call(this, {\n\t\t\t\t\tcontainer: this.$canvas,\n\t\t\t\t\tdata: data\n\t\t\t\t}, callback);\n\t\t\t}\n\t\t},\n\n\t\tsetViewOptions: function setViewOptions (curView) {\n\t\t\tvar opts = {};\n\t\t\tvar viewName = curView.split('.')[1];\n\n\t\t\tif (this.options.views) {\n\t\t\t\topts = this.options.views[viewName] || this.options.views[curView] || {};\n\t\t\t} else {\n\t\t\t\topts = {};\n\t\t\t}\n\n\t\t\tthis.viewOptions = langx.mixin({}, this.options, opts);\n\t\t},\n\n\t\tviewChanged: function viewChanged (e) {\n\t\t\tvar $selected = $(e.target);\n\t\t\tvar val = $selected.val();\n\n\t\t\tif (!this.syncingViewButtonState) {\n\t\t\t\tif (this.isDisabled || $selected.parents('label:first').hasClass('disabled')) {\n\t\t\t\t\tthis.syncViewButtonState();\n\t\t\t\t} else {\n\t\t\t\t\tthis.render({\n\t\t\t\t\t\tchangeView: val,\n\t\t\t\t\t\tpageIncrement: null\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsyncViewButtonState: function syncViewButtonState () {\n\t\t\tvar $itemToCheck = this.$views.find('input[value=\"' + this.currentView + '\"]');\n\n\t\t\tthis.syncingViewButtonState = true;\n\t\t\tthis.$views.find('input').prop('checked', false);\n\t\t\tthis.$views.find('label.active').removeClass('active');\n\n\t\t\tif ($itemToCheck.length > 0) {\n\t\t\t\t$itemToCheck.prop('checked', true);\n\t\t\t\t$itemToCheck.parents('label:first').addClass('active');\n\t\t\t}\n\t\t\tthis.syncingViewButtonState = false;\n\t\t}\n\t};\n\n\t// For backwards compatibility.\n\tRepeater.prototype.runRenderer = Repeater.prototype.renderItems;\n\n\t// REPEATER PLUGIN DEFINITION\n\n\t$.fn.repeater = function fnrepeater (option) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\t\tvar methodReturn;\n\n\t\tvar $set = this.each(function eachThis () {\n\t\t\tvar $this = $(this);\n\t\t\tvar data = $this.data('fu.repeater');\n\t\t\tvar options = typeof option === 'object' && option;\n\n\t\t\tif (!data) {\n\t\t\t\t$this.data('fu.repeater', (data = new Repeater(this, options)));\n\t\t\t}\n\n\t\t\tif (typeof option === 'string') {\n\t\t\t\tmethodReturn = data[option].apply(data, args);\n\t\t\t}\n\t\t});\n\n\t\treturn (methodReturn === undefined) ? $set : methodReturn;\n\t};\n\n\t$.fn.repeater.defaults = {\n\t\tdataSource: function dataSource (options, callback) {\n\t\t\tcallback({ count: 0, end: 0, items: [], page: 0, pages: 1, start: 0 });\n\t\t},\n\t\tdefaultView: -1, // should be a string value. -1 means it will grab the active view from the view controls\n\t\tdropPagingCap: 10,\n\t\tstaticHeight: -1, // normally true or false. -1 means it will look for data-staticheight on the element\n\t\tviews: null, // can be set to an object to configure multiple views of the same type,\n\t\tsearchOnKeyPress: false,\n\t\tallowCancel: true\n\t};\n\n\t$.fn.repeater.viewTypes = {};\n\n\t$.fn.repeater.Constructor = Repeater;\n\n\t$.fn.repeater.noConflict = function noConflict () {\n\t\t$.fn.repeater = old;\n\t\treturn this;\n\t};\n\n});\n"]}