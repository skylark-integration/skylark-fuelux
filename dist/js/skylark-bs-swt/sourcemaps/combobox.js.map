{"version":3,"sources":["combobox.js"],"names":["define","langx","browser","eventer","noder","geom","$","old","fn","combobox","Combobox","element","options","this","$element","mixin","defaults","$dropMenu","find","$input","$button","dropdown","$inputGroupBtn","on","proxy","itemclicked","inputchanged","menuShown","keypress","setDefaultSelection","items","children","length","addClass","filterOnKeypress","filter","val","prototype","constructor","destroy","remove","each","attr","outerHTML","doSelect","$item","removeClass","$selectedItem","text","trim","clearSelection","autoResizeMenu","resizeMenu","width","outerWidth","selectedItem","item","data","txt","notFound","selectByText","textContent","innerText","toLowerCase","selectByValue","value","selector","selectBySelector","selectByIndex","index","removeData","removeAttr","enable","disable","e","target","parent","trigger","synthetic","preventDefault","focus","ENTER","ESC","LEFT","UP","RIGHT","DOWN","IS_NAVIGATIONAL","which","showOptionsOnKeypress","hasClass","selected","$selected","next","prev","previousKeyPress","extra","getValue","option","methodReturn","args","Array","slice","call","arguments","$set","$this","apply","undefined","list","predicate","self","visible","i","$li","substr","append","Constructor","noConflict"],"mappings":"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","file":"../combobox.js","sourcesContent":["define([\n  \"skylark-utils/langx\",\n  \"skylark-utils/browser\",\n  \"skylark-utils/eventer\",\n  \"skylark-utils/noder\",\n  \"skylark-utils/geom\",\n  \"skylark-utils/query\"\n],function(langx,browser,eventer,noder,geom,$){\n\n\t/*\n\t * Fuel UX Checkbox\n\t * https://github.com/ExactTarget/fuelux\n\t *\n\t * Copyright (c) 2014 ExactTarget\n\t * Licensed under the BSD New license.\n\t */\n\n\tvar old = $.fn.combobox;\n\n\n\t// COMBOBOX CONSTRUCTOR AND PROTOTYPE\n\n\tvar Combobox = function (element, options) {\n\t\tthis.$element = $(element);\n\t\tthis.options = langx.mixin({}, $.fn.combobox.defaults, options);\n\n\t\tthis.$dropMenu = this.$element.find('.dropdown-menu');\n\t\tthis.$input = this.$element.find('input');\n\t\tthis.$button = this.$element.find('.btn');\n\t\tthis.$button.dropdown();\n\t\tthis.$inputGroupBtn = this.$element.find('.input-group-btn');\n\n\t\tthis.$element.on('click.fu.combobox', 'a', langx.proxy(this.itemclicked, this));\n\t\tthis.$element.on('change.fu.combobox', 'input', langx.proxy(this.inputchanged, this));\n\t\tthis.$element.on('shown.bs.dropdown', langx.proxy(this.menuShown, this));\n\t\tthis.$input.on('keyup.fu.combobox', langx.proxy(this.keypress, this));\n\n\t\t// set default selection\n\t\tthis.setDefaultSelection();\n\n\t\t// if dropdown is empty, disable it\n\t\tvar items = this.$dropMenu.children('li');\n\t\tif( items.length === 0) {\n\t\t\tthis.$button.addClass('disabled');\n\t\t}\n\n\t\t// filter on load in case the first thing they do is press navigational key to pop open the menu\n\t\tif (this.options.filterOnKeypress) {\n\t\t\tthis.options.filter(this.$dropMenu.find('li'), this.$input.val(), this);\n\t\t}\n\n\t};\n\n\tCombobox.prototype = {\n\n\t\tconstructor: Combobox,\n\n\t\tdestroy: function () {\n\t\t\tthis.$element.remove();\n\t\t\t// remove any external bindings\n\t\t\t// [none]\n\n\t\t\t// set input value attrbute in markup\n\t\t\tthis.$element.find('input').each(function () {\n\t\t\t\t$(this).attr('value', $(this).val());\n\t\t\t});\n\n\t\t\t// empty elements to return to original markup\n\t\t\t// [none]\n\n\t\t\treturn this.$element[0].outerHTML;\n\t\t},\n\n\t\tdoSelect: function ($item) {\n\n\t\t\tif (typeof $item[0] !== 'undefined') {\n\t\t\t\t// remove selection from old item, may result in remove and\n\t\t\t\t// re-addition of class if item is the same\n\t\t\t\tthis.$element.find('li.selected:first').removeClass('selected');\n\n\t\t\t\t// add selection to new item\n\t\t\t\tthis.$selectedItem = $item;\n\t\t\t\tthis.$selectedItem.addClass('selected');\n\n\t\t\t\t// update input\n\t\t\t\tthis.$input.val(this.$selectedItem.text().trim());\n\t\t\t} else {\n\t\t\t\t// this is a custom input, not in the menu\n\t\t\t\tthis.$selectedItem = null;\n\t\t\t\tthis.$element.find('li.selected:first').removeClass('selected');\n\t\t\t}\n\t\t},\n\n\t\tclearSelection: function () {\n\t\t\tthis.$selectedItem = null;\n\t\t\tthis.$input.val('');\n\t\t\tthis.$dropMenu.find('li').removeClass('selected');\n\t\t},\n\n\t\tmenuShown: function () {\n\t\t\tif (this.options.autoResizeMenu) {\n\t\t\t\tthis.resizeMenu();\n\t\t\t}\n\t\t},\n\n\t\tresizeMenu: function () {\n\t\t\tvar width = this.$element.outerWidth();\n\t\t\tthis.$dropMenu.outerWidth(width);\n\t\t},\n\n\t\tselectedItem: function () {\n\t\t\tvar item = this.$selectedItem;\n\t\t\tvar data = {};\n\n\t\t\tif (item) {\n\t\t\t\tvar txt = this.$selectedItem.text().trim();\n\t\t\t\tdata = langx.mixin({\n\t\t\t\t\ttext: txt\n\t\t\t\t}, this.$selectedItem.data());\n\t\t\t} else {\n\t\t\t\tdata = {\n\t\t\t\t\ttext: this.$input.val().trim(),\n\t\t\t\t\tnotFound: true\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn data;\n\t\t},\n\n\t\tselectByText: function (text) {\n\t\t\tvar $item = $([]);\n\t\t\tthis.$element.find('li').each(function () {\n\t\t\t\tif ((this.textContent || this.innerText || $(this).text() || '').trim().toLowerCase() === (text || '').trim().toLowerCase()) {\n\t\t\t\t\t$item = $(this);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.doSelect($item);\n\t\t},\n\n\t\tselectByValue: function (value) {\n\t\t\tvar selector = 'li[data-value=\"' + value + '\"]';\n\t\t\tthis.selectBySelector(selector);\n\t\t},\n\n\t\tselectByIndex: function (index) {\n\t\t\t// zero-based index\n\t\t\tvar selector = 'li:eq(' + index + ')';\n\t\t\tthis.selectBySelector(selector);\n\t\t},\n\n\t\tselectBySelector: function (selector) {\n\t\t\tvar $item = this.$element.find(selector);\n\t\t\tthis.doSelect($item);\n\t\t},\n\n\t\tsetDefaultSelection: function () {\n\t\t\tvar selector = 'li[data-selected=true]:first';\n\t\t\tvar item = this.$element.find(selector);\n\n\t\t\tif (item.length > 0) {\n\t\t\t\t// select by data-attribute\n\t\t\t\tthis.selectBySelector(selector);\n\t\t\t\titem.removeData('selected');\n\t\t\t\titem.removeAttr('data-selected');\n\t\t\t}\n\t\t},\n\n\t\tenable: function () {\n\t\t\tthis.$element.removeClass('disabled');\n\t\t\tthis.$input.removeAttr('disabled');\n\t\t\tthis.$button.removeClass('disabled');\n\t\t},\n\n\t\tdisable: function () {\n\t\t\tthis.$element.addClass('disabled');\n\t\t\tthis.$input.attr('disabled', true);\n\t\t\tthis.$button.addClass('disabled');\n\t\t},\n\n\t\titemclicked: function (e) {\n\t\t\tthis.$selectedItem = $(e.target).parent();\n\n\t\t\t// set input text and trigger input change event marked as synthetic\n\t\t\tthis.$input.val(this.$selectedItem.text().trim()).trigger('change', {\n\t\t\t\tsynthetic: true\n\t\t\t});\n\n\t\t\t// pass object including text and any data-attributes\n\t\t\t// to onchange event\n\t\t\tvar data = this.selectedItem();\n\n\t\t\t// trigger changed event\n\t\t\tthis.$element.trigger('changed.fu.combobox', data);\n\n\t\t\te.preventDefault();\n\n\t\t\t// return focus to control after selecting an option\n\t\t\tthis.$element.find('.dropdown-toggle').focus();\n\t\t},\n\n\t\tkeypress: function (e) {\n\t\t\tvar ENTER = 13;\n\t\t\t//var TAB = 9;\n\t\t\tvar ESC = 27;\n\t\t\tvar LEFT = 37;\n\t\t\tvar UP = 38;\n\t\t\tvar RIGHT = 39;\n\t\t\tvar DOWN = 40;\n\n\t\t\tvar IS_NAVIGATIONAL = (\n\t\t\t\te.which === UP ||\n\t\t\t\te.which === DOWN ||\n\t\t\t\te.which === LEFT ||\n\t\t\t\te.which === RIGHT\n\t\t\t);\n\n\t\t\tif(this.options.showOptionsOnKeypress && !this.$inputGroupBtn.hasClass('open')){\n\t\t\t\tthis.$button.dropdown('toggle');\n\t\t\t\tthis.$input.focus();\n\t\t\t}\n\n\t\t\tif (e.which === ENTER) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar selected = this.$dropMenu.find('li.selected').text().trim();\n\t\t\t\tif(selected.length > 0){\n\t\t\t\t\tthis.selectByText(selected);\n\t\t\t\t}else{\n\t\t\t\t\tthis.selectByText(this.$input.val());\n\t\t\t\t}\n\n\t\t\t\tthis.$inputGroupBtn.removeClass('open');\n\t\t\t} else if (e.which === ESC) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.clearSelection();\n\t\t\t\tthis.$inputGroupBtn.removeClass('open');\n\t\t\t} else if (this.options.showOptionsOnKeypress) {\n\t\t\t\tif (e.which === DOWN || e.which === UP) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar $selected = this.$dropMenu.find('li.selected');\n\t\t\t\t\tif ($selected.length > 0) {\n\t\t\t\t\t\tif (e.which === DOWN) {\n\t\t\t\t\t\t\t$selected = $selected.next(':not(.hidden)');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$selected = $selected.prev(':not(.hidden)');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($selected.length === 0){\n\t\t\t\t\t\tif (e.which === DOWN) {\n\t\t\t\t\t\t\t$selected = this.$dropMenu.find('li:not(.hidden):first');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$selected = this.$dropMenu.find('li:not(.hidden):last');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.doSelect($selected);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Avoid filtering on navigation key presses\n\t\t\tif (this.options.filterOnKeypress && !IS_NAVIGATIONAL) {\n\t\t\t\tthis.options.filter(this.$dropMenu.find('li'), this.$input.val(), this);\n\t\t\t}\n\n\t\t\tthis.previousKeyPress = e.which;\n\t\t},\n\n\t\tinputchanged: function (e, extra) {\n\t\t\tvar val = $(e.target).val();\n\t\t\t// skip processing for internally-generated synthetic event\n\t\t\t// to avoid double processing\n\t\t\tif (extra && extra.synthetic) {\n\t\t\t\tthis.selectByText(val);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.selectByText(val);\n\n\t\t\t// find match based on input\n\t\t\t// if no match, pass the input value\n\t\t\tvar data = this.selectedItem();\n\t\t\tif (data.text.length === 0) {\n\t\t\t\tdata = {\n\t\t\t\t\ttext: val\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// trigger changed event\n\t\t\tthis.$element.trigger('changed.fu.combobox', data);\n\t\t}\n\t};\n\n\tCombobox.prototype.getValue = Combobox.prototype.selectedItem;\n\n\t// COMBOBOX PLUGIN DEFINITION\n\n\t$.fn.combobox = function (option) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\t\tvar methodReturn;\n\n\t\tvar $set = this.each(function () {\n\t\t\tvar $this = $(this);\n\t\t\tvar data = $this.data('fu.combobox');\n\t\t\tvar options = typeof option === 'object' && option;\n\n\t\t\tif (!data) {\n\t\t\t\t$this.data('fu.combobox', (data = new Combobox(this, options)));\n\t\t\t}\n\n\t\t\tif (typeof option === 'string') {\n\t\t\t\tmethodReturn = data[option].apply(data, args);\n\t\t\t}\n\t\t});\n\n\t\treturn (methodReturn === undefined) ? $set : methodReturn;\n\t};\n\n\t$.fn.combobox.defaults = {\n\t\tautoResizeMenu: true,\n\t\tfilterOnKeypress: false,\n\t\tshowOptionsOnKeypress: false,\n\t\tfilter: function filter (list, predicate, self) {\n\t\t\tvar visible = 0;\n\t\t\tself.$dropMenu.find('.empty-indicator').remove();\n\n\t\t\tlist.each(function (i) {\n\t\t\t\tvar $li = $(this);\n\t\t\t\tvar text = $(this).text().trim();\n\n\t\t\t\t$li.removeClass();\n\n\t\t\t\tif (text === predicate) {\n\t\t\t\t\t$li.addClass('text-success');\n\t\t\t\t\tvisible++;\n\t\t\t\t} else if (text.substr(0, predicate.length) === predicate) {\n\t\t\t\t\t$li.addClass('text-info');\n\t\t\t\t\tvisible++;\n\t\t\t\t} else {\n\t\t\t\t\t$li.addClass('hidden');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (visible === 0) {\n\t\t\t\tself.$dropMenu.append('<li class=\"empty-indicator text-muted\"><em>No Matches</em></li>');\n\t\t\t}\n\t\t}\n\t};\n\n\t$.fn.combobox.Constructor = Combobox;\n\n\t$.fn.combobox.noConflict = function () {\n\t\t$.fn.combobox = old;\n\t\treturn this;\n\t};\n\n\t// DATA-API\n\n\t/*\n\n\t$(document).on('mousedown.fu.combobox.data-api', '[data-initialize=combobox]', function (e) {\n\t\tvar $control = $(e.target).closest('.combobox');\n\t\tif (!$control.data('fu.combobox')) {\n\t\t\t$control.combobox($control.data());\n\t\t}\n\t});\n\n\t// Must be domReady for AMD compatibility\n\t$(function () {\n\t\t$('[data-initialize=combobox]').each(function () {\n\t\t\tvar $this = $(this);\n\t\t\tif (!$this.data('fu.combobox')) {\n\t\t\t\t$this.combobox($this.data());\n\t\t\t}\n\t\t});\n\t});\n\t*/\n});\n"]}