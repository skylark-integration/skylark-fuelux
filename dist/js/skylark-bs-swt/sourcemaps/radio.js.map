{"version":3,"sources":["radio.js"],"names":["define","langx","browser","eventer","noder","geom","$","old","fn","radio","logError","error","window","console","Radio","element","options","this","mixin","defaults","tagName","toLowerCase","$label","$radio","find","groupName","attr","ignoreVisibilityCheck","css","match","containerSelector","$toggleContainer","on","proxy","itemchecked","setInitialState","prototype","constructor","checked","prop","disabled","setCheckedState","setDisabledState","resetGroup","$radios","each","index","item","$lbl","parent","$containerToggle","removeClass","addClass","trigger","evt","target","check","uncheck","isChecked","enable","disable","destroy","remove","outerHTML","getValue","option","methodReturn","args","Array","slice","call","arguments","$set","$this","data","apply","undefined","Constructor","noConflict","document","e","$control"],"mappings":"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","file":"../radio.js","sourcesContent":["define([\n  \"skylark-utils/langx\",\n  \"skylark-utils/browser\",\n  \"skylark-utils/eventer\",\n  \"skylark-utils/noder\",\n  \"skylark-utils/geom\",\n  \"skylark-utils/query\"\n],function(langx,browser,eventer,noder,geom,$){\n\n\t/*\n\t * Fuel UX Checkbox\n\t * https://github.com/ExactTarget/fuelux\n\t *\n\t * Copyright (c) 2014 ExactTarget\n\t * Licensed under the BSD New license.\n\t */\n\n\tvar old = $.fn.radio;\n\n\t// RADIO CONSTRUCTOR AND PROTOTYPE\n\tvar logError = function logError (error) {\n\t\tif (window && window.console && window.console.error) {\n\t\t\twindow.console.error(error);\n\t\t}\n\t};\n\n\tvar Radio = function Radio (element, options) {\n\t\tthis.options = langx.mixin({}, $.fn.radio.defaults, options);\n\n\t\tif (element.tagName.toLowerCase() !== 'label') {\n\t\t\tlogError('Radio must be initialized on the `label` that wraps the `input` element. See https://github.com/ExactTarget/fuelux/blob/master/reference/markup/radio.html for example of proper markup. Call `.radio()` on the `<label>` not the `<input>`');\n\t\t\treturn;\n\t\t}\n\n\t\t// cache elements\n\t\tthis.$label = $(element);\n\t\tthis.$radio = this.$label.find('input[type=\"radio\"]');\n\t\tthis.groupName = this.$radio.attr('name'); // don't cache group itself since items can be added programmatically\n\n\t\tif (!this.options.ignoreVisibilityCheck && this.$radio.css('visibility').match(/hidden|collapse/)) {\n\t\t\tlogError('For accessibility reasons, in order for tab and space to function on radio, `visibility` must not be set to `hidden` or `collapse`. See https://github.com/ExactTarget/fuelux/pull/1996 for more details.');\n\t\t}\n\n\t\t// determine if a toggle container is specified\n\t\tvar containerSelector = this.$radio.attr('data-toggle');\n\t\tthis.$toggleContainer = $(containerSelector);\n\n\t\t// handle internal events\n\t\tthis.$radio.on('change', $.proxy(this.itemchecked, this));\n\n\t\t// set default state\n\t\tthis.setInitialState();\n\t};\n\n\tRadio.prototype = {\n\n\t\tconstructor: Radio,\n\n\t\tsetInitialState: function setInitialState () {\n\t\t\tvar $radio = this.$radio;\n\n\t\t\t// get current state of input\n\t\t\tvar checked = $radio.prop('checked');\n\t\t\tvar disabled = $radio.prop('disabled');\n\n\t\t\t// sync label class with input state\n\t\t\tthis.setCheckedState($radio, checked);\n\t\t\tthis.setDisabledState($radio, disabled);\n\t\t},\n\n\t\tresetGroup: function resetGroup () {\n\t\t\tvar $radios = $('input[name=\"' + this.groupName + '\"]');\n\t\t\t$radios.each(function resetRadio (index, item) {\n\t\t\t\tvar $radio = $(item);\n\t\t\t\tvar $lbl = $radio.parent();\n\t\t\t\tvar containerSelector = $radio.attr('data-toggle');\n\t\t\t\tvar $containerToggle = $(containerSelector);\n\n\n\t\t\t\t$lbl.removeClass('checked');\n\t\t\t\t$containerToggle.addClass('hidden');\n\t\t\t});\n\t\t},\n\n\t\tsetCheckedState: function setCheckedState (element, checked) {\n\t\t\tvar $radio = element;\n\t\t\tvar $lbl = $radio.parent();\n\t\t\tvar containerSelector = $radio.attr('data-toggle');\n\t\t\tvar $containerToggle = $(containerSelector);\n\n\t\t\tif (checked) {\n\t\t\t\t// reset all items in group\n\t\t\t\tthis.resetGroup();\n\n\t\t\t\t$radio.prop('checked', true);\n\t\t\t\t$lbl.addClass('checked');\n\t\t\t\t$containerToggle.removeClass('hide hidden');\n\t\t\t\t$lbl.trigger('checked.fu.radio');\n\t\t\t} else {\n\t\t\t\t$radio.prop('checked', false);\n\t\t\t\t$lbl.removeClass('checked');\n\t\t\t\t$containerToggle.addClass('hidden');\n\t\t\t\t$lbl.trigger('unchecked.fu.radio');\n\t\t\t}\n\n\t\t\t$lbl.trigger('changed.fu.radio', checked);\n\t\t},\n\n\t\tsetDisabledState: function setDisabledState (element, disabled) {\n\t\t\tvar $radio = $(element);\n\t\t\tvar $lbl = this.$label;\n\n\t\t\tif (disabled) {\n\t\t\t\t$radio.prop('disabled', true);\n\t\t\t\t$lbl.addClass('disabled');\n\t\t\t\t$lbl.trigger('disabled.fu.radio');\n\t\t\t} else {\n\t\t\t\t$radio.prop('disabled', false);\n\t\t\t\t$lbl.removeClass('disabled');\n\t\t\t\t$lbl.trigger('enabled.fu.radio');\n\t\t\t}\n\n\t\t\treturn $radio;\n\t\t},\n\n\t\titemchecked: function itemchecked (evt) {\n\t\t\tvar $radio = $(evt.target);\n\t\t\tthis.setCheckedState($radio, true);\n\t\t},\n\n\t\tcheck: function check () {\n\t\t\tthis.setCheckedState(this.$radio, true);\n\t\t},\n\n\t\tuncheck: function uncheck () {\n\t\t\tthis.setCheckedState(this.$radio, false);\n\t\t},\n\n\t\tisChecked: function isChecked () {\n\t\t\tvar checked = this.$radio.prop('checked');\n\t\t\treturn checked;\n\t\t},\n\n\t\tenable: function enable () {\n\t\t\tthis.setDisabledState(this.$radio, false);\n\t\t},\n\n\t\tdisable: function disable () {\n\t\t\tthis.setDisabledState(this.$radio, true);\n\t\t},\n\n\t\tdestroy: function destroy () {\n\t\t\tthis.$label.remove();\n\t\t\treturn this.$label[0].outerHTML;\n\t\t}\n\t};\n\n\tRadio.prototype.getValue = Radio.prototype.isChecked;\n\n\t// RADIO PLUGIN DEFINITION\n\n\t$.fn.radio = function radio (option) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\t\tvar methodReturn;\n\n\t\tvar $set = this.each(function applyData () {\n\t\t\tvar $this = $(this);\n\t\t\tvar data = $this.data('fu.radio');\n\t\t\tvar options = typeof option === 'object' && option;\n\n\t\t\tif (!data) {\n\t\t\t\t$this.data('fu.radio', (data = new Radio(this, options)));\n\t\t\t}\n\n\t\t\tif (typeof option === 'string') {\n\t\t\t\tmethodReturn = data[option].apply(data, args);\n\t\t\t}\n\t\t});\n\n\t\treturn (methodReturn === undefined) ? $set : methodReturn;\n\t};\n\n\t$.fn.radio.defaults = {\n\t\tignoreVisibilityCheck: false\n\t};\n\n\t$.fn.radio.Constructor = Radio;\n\n\t$.fn.radio.noConflict = function noConflict () {\n\t\t$.fn.radio = old;\n\t\treturn this;\n\t};\n\n\n\t// DATA-API\n\n\t$(document).on('mouseover.fu.radio.data-api', '[data-initialize=radio]', function initializeRadios (e) {\n\t\tvar $control = $(e.target);\n\t\tif (!$control.data('fu.radio')) {\n\t\t\t$control.radio($control.data());\n\t\t}\n\t});\n\n\t// Must be domReady for AMD compatibility\n\t$(function onReadyInitializeRadios () {\n\t\t$('[data-initialize=radio]').each(function initializeRadio () {\n\t\t\tvar $this = $(this);\n\t\t\tif (!$this.data('fu.radio')) {\n\t\t\t\t$this.radio($this.data());\n\t\t\t}\n\t\t});\n\t});\n\n});\n"]}