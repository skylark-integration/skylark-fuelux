/**
 * skylark-bootstrap - The most popular front-end framework for developing responsive, mobile first projects on the web.
 * @author Twitter, Inc.
 * @version v3.3.7
 * @link http://getbootstrap.com
 * @license MIT
 */
define(["skylark-utils/browser","skylark-utils/langx","skylark-utils/eventer","skylark-utils/query"],function(t,e,a,s){"use strict";function i(t){var e,a=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return s(a)}function n(t){return this.each(function(){var a=s(this),i=a.data("bs.collapse"),n=e.mixin({},l.DEFAULTS,a.data(),"object"==typeof t&&t);!i&&n.toggle&&/show|hide/.test(t)&&(n.toggle=!1),i||a.data("bs.collapse",i=new l(this,n)),"string"==typeof t&&i[t]()})}var l=function(t,a){this.$element=s(t),this.options=e.mixin({},l.DEFAULTS,a),this.$trigger=s('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.7",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var s,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(s=i.data("bs.collapse"),s&&s.transitioning))){var o=a.create("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),s||i.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return h.call(this);var d=e.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",e.proxy(h,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[r](this.$element[0][d])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var s=a.create("hide.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION):n.call(this)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return s(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(t,e){var a=s(e);this.addAriaAndCollapsedClass(i(a),a)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var a=t.hasClass("in");t.attr("aria-expanded",a),e.toggleClass("collapsed",!a).attr("aria-expanded",a)};var o=s.fn.collapse;s.fn.collapse=n,s.fn.collapse.Constructor=l,s.fn.collapse.noConflict=function(){return s.fn.collapse=o,this},s(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=s(this);e.attr("data-target")||t.preventDefault();var a=i(e),l=a.data("bs.collapse"),o=l?"toggle":e.data();n.call(a,o)})});
//# sourceMappingURL=sourcemaps/collapse.js.map
