/**
 * skylark-bootstrap - The most popular front-end framework for developing responsive, mobile first projects on the web.
 * @author Twitter, Inc.
 * @version v3.3.7
 * @link http://getbootstrap.com
 * @license MIT
 */
define(["skylark-utils/browser","skylark-utils/langx","skylark-utils/eventer","skylark-utils/query"],function(t,e,i,s){"use strict";function n(t){return this.each(function(){var i=s(this),n=i.data("bs.carousel"),r=e.mixin({},a.DEFAULTS,i.data(),"object"==typeof t&&t),o="string"==typeof t?t:r.slide;n||i.data("bs.carousel",n=new a(this,r)),"number"==typeof t?n.to(t):o?n[o]():r.interval&&n.pause().cycle()})}var a=function(t,i){this.$element=s(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};a.VERSION="3.3.7",a.TRANSITION_DURATION=600,a.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},a.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},a.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},a.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},a.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),s="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(s&&!this.options.wrap)return e;var n="prev"==t?-1:1,a=(i+n)%this.$items.length;return this.$items.eq(a)},a.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},a.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},a.prototype.next=function(){if(!this.sliding)return this.slide("next")},a.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},a.prototype.slide=function(e,n){var r=this.$element.find(".item.active"),o=n||this.getItemForDirection(e,r),l=this.interval,h="next"==e?"left":"right",c=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],d=i.create("slide.bs.carousel",{relatedTarget:u,direction:h});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,l&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=s(this.$indicators.children()[this.getItemIndex(o)]);p&&p.addClass("active")}var v=i.create("slid.bs.carousel",{relatedTarget:u,direction:h});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,r.addClass(h),o.addClass(h),r.one("bsTransitionEnd",function(){o.removeClass([e,h].join(" ")).addClass("active"),r.removeClass(["active",h].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger(v)},0)}).emulateTransitionEnd(a.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(v)),l&&this.cycle(),this}};var r=s.fn.carousel;s.fn.carousel=n,s.fn.carousel.Constructor=a,s.fn.carousel.noConflict=function(){return s.fn.carousel=r,this};var o=function(t){var i,a=s(this),r=s(a.attr("data-target")||(i=a.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var o=e.mixin({},r.data(),a.data()),l=a.attr("data-slide-to");l&&(o.interval=!1),n.call(r,o),l&&r.data("bs.carousel").to(l),t.preventDefault()}};s(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),s(window).on("load",function(){s('[data-ride="carousel"]').each(function(){var t=s(this);n.call(t,t.data())})})});
//# sourceMappingURL=sourcemaps/carousel.js.map
