/**
 * skylark-bootstrap - The most popular front-end framework for developing responsive, mobile first projects on the web.
 * @author Twitter, Inc.
 * @version v3.3.7
 * @link http://getbootstrap.com
 * @license MIT
 */
define(["skylark-utils/browser","skylark-utils/langx","skylark-utils/eventer","skylark-utils/query"],function(t,e,i,o){"use strict";function s(t,i){return this.each(function(){var s=o(this),a=s.data("bs.modal"),d=e.mixin({},n.DEFAULTS,s.data(),"object"==typeof t&&t);a||s.data("bs.modal",a=new n(this,d)),"string"==typeof t?a[t](i):d.show&&a.show(i)})}var n=function(t,i){this.options=i,this.$body=o(document.body),this.$element=o(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(s){var a=this,d=i.create("show.bs.modal",{relatedTarget:s});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){a.$element.one("mouseup.dismiss.bs.modal",function(t){o(t.target).is(a.$element)&&(a.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=t.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(a.$body),a.$element.show().scrollTop(0),a.adjustDialog(),e&&a.$element[0].offsetWidth,a.$element.addClass("in"),a.enforceFocus();var o=i.create("shown.bs.modal",{relatedTarget:s});e?a.$dialog.one("bsTransitionEnd",function(){a.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):a.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(s){s&&s.preventDefault(),s=i.create("hide.bs.modal"),this.$element.trigger(s),this.isShown&&!s.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(i){var s=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=t.support.transition&&a;if(this.$backdrop=o(document.createElement("div")).addClass("modal-backdrop "+a).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;d?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):i()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){s.removeBackdrop(),i&&i()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):r()}else i&&i()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var a=o.fn.modal;o.fn.modal=s,o.fn.modal.Constructor=n,o.fn.modal.noConflict=function(){return o.fn.modal=a,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var i=o(this),n=i.attr("href"),a=o(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),d=a.data("bs.modal")?"toggle":e.mixin({remote:!/#/.test(n)&&n},a.data(),i.data());i.is("a")&&t.preventDefault(),a.one("show.bs.modal",function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),s.call(a,d,this)})});
//# sourceMappingURL=sourcemaps/modal.js.map
