{"version":3,"sources":["combobox.js"],"names":["define","langx","browser","eventer","noder","geom","$","fuelux","old","fn","combobox","Combobox","WidgetBase","inherit","klassName","init","element","options","this","$element","mixin","defaults","$dropMenu","find","$input","$button","dropdown","$inputGroupBtn","on","proxy","itemclicked","inputchanged","menuShown","keypress","setDefaultSelection","children","length","addClass","filterOnKeypress","filter","val","destroy","remove","each","attr","outerHTML","doSelect","$item","removeClass","$selectedItem","text","trim","clearSelection","autoResizeMenu","resizeMenu","width","outerWidth","selectedItem","data","txt","notFound","selectByText","textContent","innerText","toLowerCase","selectByValue","value","selector","selectBySelector","selectByIndex","index","item","removeData","removeAttr","enable","disable","e","target","parent","trigger","synthetic","preventDefault","focus","IS_NAVIGATIONAL","which","showOptionsOnKeypress","hasClass","selected","$selected","next","prev","previousKeyPress","extra","prototype","getValue","option","methodReturn","args","Array","slice","call","arguments","$set","$this","apply","undefined","list","predicate","self","visible","i","$li","substr","append","Constructor","noConflict"],"mappings":"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","file":"../combobox.js","sourcesContent":["define([\n  \"skylark-langx/langx\",\n  \"skylark-domx/browser\",\n  \"skylark-domx/eventer\",\n  \"skylark-domx/noder\",\n  \"skylark-domx/geom\",\n  \"skylark-domx/query\",\n  \"./fuelux\",\n  \"skylark-bootstrap3/dropdown\"  \n],function(langx,browser,eventer,noder,geom,$,fuelux){\n\n\n\t/*\n\t * Fuel UX Combobox\n\t * https://github.com/ExactTarget/fuelux\n\t *\n\t * Copyright (c) 2014 ExactTarget\n\t * Licensed under the BSD New license.\n\t */\n\n\tvar old = $.fn.combobox;\n\n\n\t// COMBOBOX CONSTRUCTOR AND PROTOTYPE\n\n\tvar Combobox = fuelux.Combobox = fuelux.WidgetBase.inherit({\n\t\tklassName: \"Combobox\",\n\n\t\tinit : function(element,options) {\n\t\t\tthis.$element = $(element);\n\t\t\tthis.options = langx.mixin({}, $.fn.combobox.defaults, options);\n\n\t\t\tthis.$dropMenu = this.$element.find('.dropdown-menu');\n\t\t\tthis.$input = this.$element.find('input');\n\t\t\tthis.$button = this.$element.find('.btn');\n\t\t\tthis.$button.dropdown();\n\t\t\tthis.$inputGroupBtn = this.$element.find('.input-group-btn');\n\n\t\t\tthis.$element.on('click.fu.combobox', 'a', langx.proxy(this.itemclicked, this));\n\t\t\tthis.$element.on('change.fu.combobox', 'input', langx.proxy(this.inputchanged, this));\n\t\t\tthis.$element.on('shown.bs.dropdown', langx.proxy(this.menuShown, this));\n\t\t\tthis.$input.on('keyup.fu.combobox', langx.proxy(this.keypress, this));\n\n\t\t\t// set default selection\n\t\t\tthis.setDefaultSelection();\n\n\t\t\t// if dropdown is empty, disable it\n\t\t\tvar items = this.$dropMenu.children('li');\n\t\t\tif( items.length === 0) {\n\t\t\t\tthis.$button.addClass('disabled');\n\t\t\t}\n\n\t\t\t// filter on load in case the first thing they do is press navigational key to pop open the menu\n\t\t\tif (this.options.filterOnKeypress) {\n\t\t\t\tthis.options.filter(this.$dropMenu.find('li'), this.$input.val(), this);\n\t\t\t}\n\t\t},\n\n\t\tdestroy: function () {\n\t\t\tthis.$element.remove();\n\t\t\t// remove any external bindings\n\t\t\t// [none]\n\n\t\t\t// set input value attrbute in markup\n\t\t\tthis.$element.find('input').each(function () {\n\t\t\t\t$(this).attr('value', $(this).val());\n\t\t\t});\n\n\t\t\t// empty elements to return to original markup\n\t\t\t// [none]\n\n\t\t\treturn this.$element[0].outerHTML;\n\t\t},\n\n\t\tdoSelect: function ($item) {\n\n\t\t\tif (typeof $item[0] !== 'undefined') {\n\t\t\t\t// remove selection from old item, may result in remove and\n\t\t\t\t// re-addition of class if item is the same\n\t\t\t\tthis.$element.find('li.selected:first').removeClass('selected');\n\n\t\t\t\t// add selection to new item\n\t\t\t\tthis.$selectedItem = $item;\n\t\t\t\tthis.$selectedItem.addClass('selected');\n\n\t\t\t\t// update input\n\t\t\t\tthis.$input.val(this.$selectedItem.text().trim());\n\t\t\t} else {\n\t\t\t\t// this is a custom input, not in the menu\n\t\t\t\tthis.$selectedItem = null;\n\t\t\t\tthis.$element.find('li.selected:first').removeClass('selected');\n\t\t\t}\n\t\t},\n\n\t\tclearSelection: function () {\n\t\t\tthis.$selectedItem = null;\n\t\t\tthis.$input.val('');\n\t\t\tthis.$dropMenu.find('li').removeClass('selected');\n\t\t},\n\n\t\tmenuShown: function () {\n\t\t\tif (this.options.autoResizeMenu) {\n\t\t\t\tthis.resizeMenu();\n\t\t\t}\n\t\t},\n\n\t\tresizeMenu: function () {\n\t\t\tvar width = this.$element.outerWidth();\n\t\t\tthis.$dropMenu.outerWidth(width);\n\t\t},\n\n\t\tselectedItem: function () {\n\t\t\tvar item = this.$selectedItem;\n\t\t\tvar data = {};\n\n\t\t\tif (item) {\n\t\t\t\tvar txt = this.$selectedItem.text().trim();\n\t\t\t\tdata = langx.mixin({\n\t\t\t\t\ttext: txt\n\t\t\t\t}, this.$selectedItem.data());\n\t\t\t} else {\n\t\t\t\tdata = {\n\t\t\t\t\ttext: this.$input.val().trim(),\n\t\t\t\t\tnotFound: true\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn data;\n\t\t},\n\n\t\tselectByText: function (text) {\n\t\t\tvar $item = $([]);\n\t\t\tthis.$element.find('li').each(function () {\n\t\t\t\tif ((this.textContent || this.innerText || $(this).text() || '').trim().toLowerCase() === (text || '').trim().toLowerCase()) {\n\t\t\t\t\t$item = $(this);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.doSelect($item);\n\t\t},\n\n\t\tselectByValue: function (value) {\n\t\t\tvar selector = 'li[data-value=\"' + value + '\"]';\n\t\t\tthis.selectBySelector(selector);\n\t\t},\n\n\t\tselectByIndex: function (index) {\n\t\t\t// zero-based index\n\t\t\tvar selector = 'li:eq(' + index + ')';\n\t\t\tthis.selectBySelector(selector);\n\t\t},\n\n\t\tselectBySelector: function (selector) {\n\t\t\tvar $item = this.$element.find(selector);\n\t\t\tthis.doSelect($item);\n\t\t},\n\n\t\tsetDefaultSelection: function () {\n\t\t\tvar selector = 'li[data-selected=true]:first';\n\t\t\tvar item = this.$element.find(selector);\n\n\t\t\tif (item.length > 0) {\n\t\t\t\t// select by data-attribute\n\t\t\t\tthis.selectBySelector(selector);\n\t\t\t\titem.removeData('selected');\n\t\t\t\titem.removeAttr('data-selected');\n\t\t\t}\n\t\t},\n\n\t\tenable: function () {\n\t\t\tthis.$element.removeClass('disabled');\n\t\t\tthis.$input.removeAttr('disabled');\n\t\t\tthis.$button.removeClass('disabled');\n\t\t},\n\n\t\tdisable: function () {\n\t\t\tthis.$element.addClass('disabled');\n\t\t\tthis.$input.attr('disabled', true);\n\t\t\tthis.$button.addClass('disabled');\n\t\t},\n\n\t\titemclicked: function (e) {\n\t\t\tthis.$selectedItem = $(e.target).parent();\n\n\t\t\t// set input text and trigger input change event marked as synthetic\n\t\t\tthis.$input.val(this.$selectedItem.text().trim()).trigger('change', {\n\t\t\t\tsynthetic: true\n\t\t\t});\n\n\t\t\t// pass object including text and any data-attributes\n\t\t\t// to onchange event\n\t\t\tvar data = this.selectedItem();\n\n\t\t\t// trigger changed event\n\t\t\tthis.$element.trigger('changed.fu.combobox', data);\n\n\t\t\te.preventDefault();\n\n\t\t\t// return focus to control after selecting an option\n\t\t\tthis.$element.find('.dropdown-toggle').focus();\n\t\t},\n\n\t\tkeypress: function (e) {\n\t\t\tvar ENTER = 13;\n\t\t\t//var TAB = 9;\n\t\t\tvar ESC = 27;\n\t\t\tvar LEFT = 37;\n\t\t\tvar UP = 38;\n\t\t\tvar RIGHT = 39;\n\t\t\tvar DOWN = 40;\n\n\t\t\tvar IS_NAVIGATIONAL = (\n\t\t\t\te.which === UP ||\n\t\t\t\te.which === DOWN ||\n\t\t\t\te.which === LEFT ||\n\t\t\t\te.which === RIGHT\n\t\t\t);\n\n\t\t\tif(this.options.showOptionsOnKeypress && !this.$inputGroupBtn.hasClass('open')){\n\t\t\t\tthis.$button.dropdown('toggle');\n\t\t\t\tthis.$input.focus();\n\t\t\t}\n\n\t\t\tif (e.which === ENTER) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar selected = this.$dropMenu.find('li.selected').text().trim();\n\t\t\t\tif(selected.length > 0){\n\t\t\t\t\tthis.selectByText(selected);\n\t\t\t\t}else{\n\t\t\t\t\tthis.selectByText(this.$input.val());\n\t\t\t\t}\n\n\t\t\t\tthis.$inputGroupBtn.removeClass('open');\n\t\t\t} else if (e.which === ESC) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.clearSelection();\n\t\t\t\tthis.$inputGroupBtn.removeClass('open');\n\t\t\t} else if (this.options.showOptionsOnKeypress) {\n\t\t\t\tif (e.which === DOWN || e.which === UP) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar $selected = this.$dropMenu.find('li.selected');\n\t\t\t\t\tif ($selected.length > 0) {\n\t\t\t\t\t\tif (e.which === DOWN) {\n\t\t\t\t\t\t\t$selected = $selected.next(':not(.hidden)');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$selected = $selected.prev(':not(.hidden)');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($selected.length === 0){\n\t\t\t\t\t\tif (e.which === DOWN) {\n\t\t\t\t\t\t\t$selected = this.$dropMenu.find('li:not(.hidden):first');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$selected = this.$dropMenu.find('li:not(.hidden):last');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.doSelect($selected);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Avoid filtering on navigation key presses\n\t\t\tif (this.options.filterOnKeypress && !IS_NAVIGATIONAL) {\n\t\t\t\tthis.options.filter(this.$dropMenu.find('li'), this.$input.val(), this);\n\t\t\t}\n\n\t\t\tthis.previousKeyPress = e.which;\n\t\t},\n\n\t\tinputchanged: function (e, extra) {\n\t\t\tvar val = $(e.target).val();\n\t\t\t// skip processing for internally-generated synthetic event\n\t\t\t// to avoid double processing\n\t\t\tif (extra && extra.synthetic) {\n\t\t\t\tthis.selectByText(val);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.selectByText(val);\n\n\t\t\t// find match based on input\n\t\t\t// if no match, pass the input value\n\t\t\tvar data = this.selectedItem();\n\t\t\tif (data.text.length === 0) {\n\t\t\t\tdata = {\n\t\t\t\t\ttext: val\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// trigger changed event\n\t\t\tthis.$element.trigger('changed.fu.combobox', data);\n\t\t}\n\n\t});\n\n\n\n\tCombobox.prototype.getValue = Combobox.prototype.selectedItem;\n\n\t// COMBOBOX PLUGIN DEFINITION\n\n\t$.fn.combobox = function (option) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\t\tvar methodReturn;\n\n\t\tvar $set = this.each(function () {\n\t\t\tvar $this = $(this);\n\t\t\tvar data = $this.data('fu.combobox');\n\t\t\tvar options = typeof option === 'object' && option;\n\n\t\t\tif (!data) {\n\t\t\t\t$this.data('fu.combobox', (data = new Combobox(this, options)));\n\t\t\t}\n\n\t\t\tif (typeof option === 'string') {\n\t\t\t\tmethodReturn = data[option].apply(data, args);\n\t\t\t}\n\t\t});\n\n\t\treturn (methodReturn === undefined) ? $set : methodReturn;\n\t};\n\n\t$.fn.combobox.defaults = {\n\n\t\tautoResizeMenu: true,\n\t\tfilterOnKeypress: false,\n\t\tshowOptionsOnKeypress: false,\n\t\tfilter: function filter (list, predicate, self) {\n\t\t\tvar visible = 0;\n\t\t\tself.$dropMenu.find('.empty-indicator').remove();\n\n\t\t\tlist.each(function (i) {\n\t\t\t\tvar $li = $(this);\n\t\t\t\tvar text = $(this).text().trim();\n\n\t\t\t\t$li.removeClass();\n\n\t\t\t\tif (text === predicate) {\n\t\t\t\t\t$li.addClass('text-success');\n\t\t\t\t\tvisible++;\n\t\t\t\t} else if (text.substr(0, predicate.length) === predicate) {\n\t\t\t\t\t$li.addClass('text-info');\n\t\t\t\t\tvisible++;\n\t\t\t\t} else {\n\t\t\t\t\t$li.addClass('hidden');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (visible === 0) {\n\t\t\t\tself.$dropMenu.append('<li class=\"empty-indicator text-muted\"><em>No Matches</em></li>');\n\t\t\t}\n\t\t}\n\t};\n\n\t$.fn.combobox.Constructor =  Combobox;\n\n\t$.fn.combobox.noConflict = function () {\n\t\t$.fn.combobox = old;\n\t\treturn this;\n\t};\n\n\t// DATA-API\n\n\t/*\n\n\t$(document).on('mousedown.fu.combobox.data-api', '[data-initialize=combobox]', function (e) {\n\t\tvar $control = $(e.target).closest('.combobox');\n\t\tif (!$control.data('fu.combobox')) {\n\t\t\t$control.combobox($control.data());\n\t\t}\n\t});\n\n\t// Must be domReady for AMD compatibility\n\t$(function () {\n\t\t$('[data-initialize=combobox]').each(function () {\n\t\t\tvar $this = $(this);\n\t\t\tif (!$this.data('fu.combobox')) {\n\t\t\t\t$this.combobox($this.data());\n\t\t\t}\n\t\t});\n\t});\n\t*/\n\n\treturn $.fn.combobox;\n});\n"]}