{"version":3,"sources":["radio.js"],"names":["define","langx","browser","eventer","noder","geom","$","fuelux","old","fn","radio","logError","error","window","console","Radio","WidgetBase","inherit","klassName","init","element","options","this","mixin","defaults","tagName","toLowerCase","$label","$radio","find","groupName","attr","ignoreVisibilityCheck","css","match","containerSelector","$toggleContainer","on","proxy","itemchecked","setInitialState","checked","prop","disabled","setCheckedState","setDisabledState","resetGroup","each","index","item","$lbl","parent","$containerToggle","removeClass","addClass","trigger","evt","target","check","uncheck","isChecked","enable","disable","destroy","remove","outerHTML","prototype","getValue","option","methodReturn","args","Array","slice","call","arguments","$set","$this","data","apply","undefined","Constructor","noConflict"],"mappings":";;;;;;;AAAAA,QACE,sBACA,uBACA,uBACA,qBACA,oBACA,qBACA,YACA,SAASC,EAAMC,EAAQC,EAAQC,EAAMC,EAAKC,EAAEC,GAW7C,IAAIC,EAAMF,EAAEG,GAAGC,MAGXC,EAAW,SAAmBC,GAC7BC,QAAUA,OAAOC,SAAWD,OAAOC,QAAQF,OAC9CC,OAAOC,QAAQF,MAAMA,IAInBG,EAAQR,EAAOQ,MAAQR,EAAOS,WAAWC,SAC5CC,UAAW,QAEXC,KAAO,SAASC,EAAQC,GAGvB,GAFAC,KAAKD,QAAUpB,EAAMsB,SAAUjB,EAAEG,GAAGC,MAAMc,SAAUH,GAEd,UAAlCD,EAAQK,QAAQC,cAApB,CAMAJ,KAAKK,OAASrB,EAAEc,GAChBE,KAAKM,OAASN,KAAKK,OAAOE,KAAK,uBAC/BP,KAAKQ,UAAYR,KAAKM,OAAOG,KAAK,SAE7BT,KAAKD,QAAQW,uBAAyBV,KAAKM,OAAOK,IAAI,cAAcC,MAAM,oBAC9EvB,EAAS,6MAIV,IAAIwB,EAAoBb,KAAKM,OAAOG,KAAK,eACzCT,KAAKc,iBAAmB9B,EAAE6B,GAG1Bb,KAAKM,OAAOS,GAAG,SAAUpC,EAAMqC,MAAMhB,KAAKiB,YAAajB,OAGvDA,KAAKkB,uBArBJ7B,EAAS,gPAwBX6B,gBAAiB,WAChB,IAAIZ,EAASN,KAAKM,OAGda,EAAUb,EAAOc,KAAK,WACtBC,EAAWf,EAAOc,KAAK,YAG3BpB,KAAKsB,gBAAgBhB,EAAQa,GAC7BnB,KAAKuB,iBAAiBjB,EAAQe,IAG/BG,WAAY,WACGxC,EAAE,eAAiBgB,KAAKQ,UAAY,MAC1CiB,KAAK,SAAqBC,EAAOC,GACxC,IAAIrB,EAAStB,EAAE2C,GACXC,EAAOtB,EAAOuB,SACdhB,EAAoBP,EAAOG,KAAK,eAChCqB,EAAmB9C,EAAE6B,GAGzBe,EAAKG,YAAY,WACjBD,EAAiBE,SAAS,aAI5BV,gBAAiB,SAA0BxB,EAASqB,GACnD,IAAIb,EAASR,EACT8B,EAAOtB,EAAOuB,SACdhB,EAAoBP,EAAOG,KAAK,eAChCqB,EAAmB9C,EAAE6B,GAErBM,GAEHnB,KAAKwB,aAELlB,EAAOc,KAAK,WAAW,GACvBQ,EAAKI,SAAS,WACdF,EAAiBC,YAAY,eAC7BH,EAAKK,QAAQ,sBAEb3B,EAAOc,KAAK,WAAW,GACvBQ,EAAKG,YAAY,WACjBD,EAAiBE,SAAS,UAC1BJ,EAAKK,QAAQ,uBAGdL,EAAKK,QAAQ,mBAAoBd,IAGlCI,iBAAkB,SAA2BzB,EAASuB,GACrD,IAAIf,EAAStB,EAAEc,GACX8B,EAAO5B,KAAKK,OAYhB,OAVIgB,GACHf,EAAOc,KAAK,YAAY,GACxBQ,EAAKI,SAAS,YACdJ,EAAKK,QAAQ,uBAEb3B,EAAOc,KAAK,YAAY,GACxBQ,EAAKG,YAAY,YACjBH,EAAKK,QAAQ,qBAGP3B,GAGRW,YAAa,SAAsBiB,GAClC,IAAI5B,EAAStB,EAAEkD,EAAIC,QACnBnC,KAAKsB,gBAAgBhB,GAAQ,IAG9B8B,MAAO,WACNpC,KAAKsB,gBAAgBtB,KAAKM,QAAQ,IAGnC+B,QAAS,WACRrC,KAAKsB,gBAAgBtB,KAAKM,QAAQ,IAGnCgC,UAAW,WAEV,OADctC,KAAKM,OAAOc,KAAK,YAIhCmB,OAAQ,WACPvC,KAAKuB,iBAAiBvB,KAAKM,QAAQ,IAGpCkC,QAAS,WACRxC,KAAKuB,iBAAiBvB,KAAKM,QAAQ,IAGpCmC,QAAS,WAER,OADAzC,KAAKK,OAAOqC,SACL1C,KAAKK,OAAO,GAAGsC,aA+DxB,OAzDAlD,EAAMmD,UAAUC,SAAWpD,EAAMmD,UAAUN,UAI3CtD,EAAEG,GAAGC,MAAQ,SAAgB0D,GAC5B,IACIC,EADAC,EAAOC,MAAML,UAAUM,MAAMC,KAAKC,UAAW,GAG7CC,EAAOrD,KAAKyB,KAAK,WACpB,IAAI6B,EAAQtE,EAAEgB,MACVuD,EAAOD,EAAMC,KAAK,YAClBxD,EAA4B,iBAAX+C,GAAuBA,EAEvCS,GACJD,EAAMC,KAAK,WAAaA,EAAO,IAAI9D,EAAMO,KAAMD,IAG1B,iBAAX+C,IACVC,EAAeQ,EAAKT,GAAQU,MAAMD,EAAMP,MAI1C,YAAyBS,IAAjBV,EAA8BM,EAAON,GAG9C/D,EAAEG,GAAGC,MAAMc,UACVQ,uBAAuB,GAGxB1B,EAAEG,GAAGC,MAAMsE,YAAcjE,EAEzBT,EAAEG,GAAGC,MAAMuE,WAAa,WAEvB,OADA3E,EAAEG,GAAGC,MAAQF,EACNc,MAwBDhB,EAAEG,GAAGC","file":"../radio.js","sourcesContent":["define([\n  \"skylark-langx/langx\",\n  \"skylark-domx/browser\",\n  \"skylark-domx/eventer\",\n  \"skylark-domx/noder\",\n  \"skylark-domx/geom\",\n  \"skylark-domx/query\",\n  \"./fuelux\"\n],function(langx,browser,eventer,noder,geom,$,fuelux){\n\n\n\t/*\n\t * Fuel UX Checkbox\n\t * https://github.com/ExactTarget/fuelux\n\t *\n\t * Copyright (c) 2014 ExactTarget\n\t * Licensed under the BSD New license.\n\t */\n\n\tvar old = $.fn.radio;\n\n\t// RADIO CONSTRUCTOR AND PROTOTYPE\n\tvar logError = function logError (error) {\n\t\tif (window && window.console && window.console.error) {\n\t\t\twindow.console.error(error);\n\t\t}\n\t};\n\n\tvar Radio = fuelux.Radio = fuelux.WidgetBase.inherit({\n\t\tklassName: \"Radio\",\n\n\t\tinit : function(element,options) {\n\t\t\tthis.options = langx.mixin({}, $.fn.radio.defaults, options);\n\n\t\t\tif (element.tagName.toLowerCase() !== 'label') {\n\t\t\t\tlogError('Radio must be initialized on the `label` that wraps the `input` element. See https://github.com/ExactTarget/fuelux/blob/master/reference/markup/radio.html for example of proper markup. Call `.radio()` on the `<label>` not the `<input>`');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// cache elements\n\t\t\tthis.$label = $(element);\n\t\t\tthis.$radio = this.$label.find('input[type=\"radio\"]');\n\t\t\tthis.groupName = this.$radio.attr('name'); // don't cache group itself since items can be added programmatically\n\n\t\t\tif (!this.options.ignoreVisibilityCheck && this.$radio.css('visibility').match(/hidden|collapse/)) {\n\t\t\t\tlogError('For accessibility reasons, in order for tab and space to function on radio, `visibility` must not be set to `hidden` or `collapse`. See https://github.com/ExactTarget/fuelux/pull/1996 for more details.');\n\t\t\t}\n\n\t\t\t// determine if a toggle container is specified\n\t\t\tvar containerSelector = this.$radio.attr('data-toggle');\n\t\t\tthis.$toggleContainer = $(containerSelector);\n\n\t\t\t// handle internal events\n\t\t\tthis.$radio.on('change', langx.proxy(this.itemchecked, this));\n\n\t\t\t// set default state\n\t\t\tthis.setInitialState();\n\t\t},\n\n\t\tsetInitialState: function setInitialState () {\n\t\t\tvar $radio = this.$radio;\n\n\t\t\t// get current state of input\n\t\t\tvar checked = $radio.prop('checked');\n\t\t\tvar disabled = $radio.prop('disabled');\n\n\t\t\t// sync label class with input state\n\t\t\tthis.setCheckedState($radio, checked);\n\t\t\tthis.setDisabledState($radio, disabled);\n\t\t},\n\n\t\tresetGroup: function resetGroup () {\n\t\t\tvar $radios = $('input[name=\"' + this.groupName + '\"]');\n\t\t\t$radios.each(function resetRadio (index, item) {\n\t\t\t\tvar $radio = $(item);\n\t\t\t\tvar $lbl = $radio.parent();\n\t\t\t\tvar containerSelector = $radio.attr('data-toggle');\n\t\t\t\tvar $containerToggle = $(containerSelector);\n\n\n\t\t\t\t$lbl.removeClass('checked');\n\t\t\t\t$containerToggle.addClass('hidden');\n\t\t\t});\n\t\t},\n\n\t\tsetCheckedState: function setCheckedState (element, checked) {\n\t\t\tvar $radio = element;\n\t\t\tvar $lbl = $radio.parent();\n\t\t\tvar containerSelector = $radio.attr('data-toggle');\n\t\t\tvar $containerToggle = $(containerSelector);\n\n\t\t\tif (checked) {\n\t\t\t\t// reset all items in group\n\t\t\t\tthis.resetGroup();\n\n\t\t\t\t$radio.prop('checked', true);\n\t\t\t\t$lbl.addClass('checked');\n\t\t\t\t$containerToggle.removeClass('hide hidden');\n\t\t\t\t$lbl.trigger('checked.fu.radio');\n\t\t\t} else {\n\t\t\t\t$radio.prop('checked', false);\n\t\t\t\t$lbl.removeClass('checked');\n\t\t\t\t$containerToggle.addClass('hidden');\n\t\t\t\t$lbl.trigger('unchecked.fu.radio');\n\t\t\t}\n\n\t\t\t$lbl.trigger('changed.fu.radio', checked);\n\t\t},\n\n\t\tsetDisabledState: function setDisabledState (element, disabled) {\n\t\t\tvar $radio = $(element);\n\t\t\tvar $lbl = this.$label;\n\n\t\t\tif (disabled) {\n\t\t\t\t$radio.prop('disabled', true);\n\t\t\t\t$lbl.addClass('disabled');\n\t\t\t\t$lbl.trigger('disabled.fu.radio');\n\t\t\t} else {\n\t\t\t\t$radio.prop('disabled', false);\n\t\t\t\t$lbl.removeClass('disabled');\n\t\t\t\t$lbl.trigger('enabled.fu.radio');\n\t\t\t}\n\n\t\t\treturn $radio;\n\t\t},\n\n\t\titemchecked: function itemchecked (evt) {\n\t\t\tvar $radio = $(evt.target);\n\t\t\tthis.setCheckedState($radio, true);\n\t\t},\n\n\t\tcheck: function check () {\n\t\t\tthis.setCheckedState(this.$radio, true);\n\t\t},\n\n\t\tuncheck: function uncheck () {\n\t\t\tthis.setCheckedState(this.$radio, false);\n\t\t},\n\n\t\tisChecked: function isChecked () {\n\t\t\tvar checked = this.$radio.prop('checked');\n\t\t\treturn checked;\n\t\t},\n\n\t\tenable: function enable () {\n\t\t\tthis.setDisabledState(this.$radio, false);\n\t\t},\n\n\t\tdisable: function disable () {\n\t\t\tthis.setDisabledState(this.$radio, true);\n\t\t},\n\n\t\tdestroy: function destroy () {\n\t\t\tthis.$label.remove();\n\t\t\treturn this.$label[0].outerHTML;\n\t\t}\n\n\t});\n\n\n\tRadio.prototype.getValue = Radio.prototype.isChecked;\n\n\t// RADIO PLUGIN DEFINITION\n\n\t$.fn.radio = function radio (option) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\t\tvar methodReturn;\n\n\t\tvar $set = this.each(function applyData () {\n\t\t\tvar $this = $(this);\n\t\t\tvar data = $this.data('fu.radio');\n\t\t\tvar options = typeof option === 'object' && option;\n\n\t\t\tif (!data) {\n\t\t\t\t$this.data('fu.radio', (data = new Radio(this, options)));\n\t\t\t}\n\n\t\t\tif (typeof option === 'string') {\n\t\t\t\tmethodReturn = data[option].apply(data, args);\n\t\t\t}\n\t\t});\n\n\t\treturn (methodReturn === undefined) ? $set : methodReturn;\n\t};\n\n\t$.fn.radio.defaults = {\n\t\tignoreVisibilityCheck: false\n\t};\n\n\t$.fn.radio.Constructor = Radio;\n\n\t$.fn.radio.noConflict = function noConflict () {\n\t\t$.fn.radio = old;\n\t\treturn this;\n\t};\n\n\n\t// DATA-API\n\t/*\n\t$(document).on('mouseover.fu.radio.data-api', '[data-initialize=radio]', function initializeRadios (e) {\n\t\tvar $control = $(e.target);\n\t\tif (!$control.data('fu.radio')) {\n\t\t\t$control.radio($control.data());\n\t\t}\n\t});\n\n\t// Must be domReady for AMD compatibility\n\t$(function onReadyInitializeRadios () {\n\t\t$('[data-initialize=radio]').each(function initializeRadio () {\n\t\t\tvar $this = $(this);\n\t\t\tif (!$this.data('fu.radio')) {\n\t\t\t\t$this.radio($this.data());\n\t\t\t}\n\t\t});\n\t});\n\t*/\n\n\treturn $.fn.radio;\n});\n"]}